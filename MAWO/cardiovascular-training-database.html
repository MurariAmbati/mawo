<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAWO - Cardiovascular Training Database | 15,000+ Heart-Healthy Workouts</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #ffffff;
            color: #1a1a1a;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: #ff6600;
            padding: 4rem 0 2rem 0;
            text-align: center;
            border-bottom: 1px solid #f0f0f0;
            color: white;
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin: 0;
            color: white;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.25rem;
            margin: 1rem 0 0 0;
            color: rgba(255,255,255,0.9);
            font-weight: 400;
        }

        .stats-bar {
            background: #fafafa;
            padding: 3rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .stats-container {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            text-align: center;
        }

        .stat-item {
            color: #1a1a1a;
            transition: transform 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            color: #666;
            font-weight: 500;
        }

        /* Main Container */
        .main-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        /* Filters Section */
        .filters-section {
            background: #ffffff;
            padding: 2rem 0;
            margin-bottom: 3rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-label {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1a1a1a;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .filter-select, .filter-input {
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1rem;
            background: #ffffff;
            transition: all 0.3s ease;
        }

        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-section {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .search-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1rem;
            background: #ffffff;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        /* Workouts Grid */
        .workouts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .workout-card {
            background: #ffffff;
            border: 1px solid #f0f0f0;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .workout-card:hover {
            border-color: #667eea;
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .workout-header {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            padding: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .workout-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }

        .workout-category {
            font-size: 0.9rem;
            color: #667eea;
            font-weight: 500;
        }

        .workout-body {
            padding: 1.5rem;
        }

        .workout-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .workout-description {
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .workout-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .tag {
            background: #f8f9ff;
            color: #667eea;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .tag:hover {
            background: #667eea;
            color: white;
        }

        .workout-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f8f8f8;
            color: #666;
            border: 1px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }

        .page-btn {
            padding: 0.75rem 1rem;
            border: 1px solid #e0e0e0;
            background: #ffffff;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .page-btn:hover {
            background: #f8f8f8;
            transform: translateY(-2px);
        }

        .page-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        /* Full Screen Calendar Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: #ffffff;
            margin: 2% auto;
            padding: 0;
            border-radius: 16px;
            width: 95%;
            max-width: 1400px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid #f0f0f0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            background: #ff6600;
            color: white;
            padding: 2rem;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 600;
            color: white;
            margin: 0;
        }

        .close {
            font-size: 2.5rem;
            cursor: pointer;
            color: white;
            line-height: 1;
            transition: all 0.3s ease;
        }

        .close:hover {
            color: #f0f0f0;
            transform: scale(1.1);
        }

        #modalContent {
            padding: 2rem;
        }

        /* Calendar Layout */
        .calendar-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            margin-bottom: 2rem;
            min-height: 500px;
        }

        .workout-overview {
            background: #f8f9ff;
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            height: fit-content;
        }

        .overview-item {
            margin-bottom: 1rem;
            padding: 0.75rem;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .overview-item strong {
            color: #667eea;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            height: 100%;
        }

        .calendar-day {
            background: white;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            padding: 1rem;
            min-height: 140px;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow: hidden;
            position: relative;
        }

        .calendar-day:hover {
            border-color: #667eea;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
        }

        .calendar-day.workout {
            border-left: 4px solid #28a745;
            background: linear-gradient(135deg, #f8fff9 0%, #f0fff4 100%);
        }

        .calendar-day.rest {
            border-left: 4px solid #6c757d;
            background: linear-gradient(135deg, #f8f9fa 0%, #f0f2f5 100%);
        }

        .day-header {
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-align: center;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .day-type {
            font-size: 0.75rem;
            color: #666;
            margin-bottom: 0.75rem;
            text-align: center;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .day-exercises {
            font-size: 0.7rem;
            color: #666;
            overflow: hidden;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
        }

        .exercise-item {
            background: white;
            padding: 0.5rem 0.6rem;
            margin: 0;
            border-radius: 6px;
            border-left: 3px solid #667eea;
            font-size: 0.65rem;
            line-height: 1.3;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .exercise-item strong {
            font-size: 0.7rem;
            display: block;
            margin-bottom: 0.2rem;
            color: #1a1a1a;
        }

        .exercise-item.more-exercises {
            background: #f8f9ff;
            color: #667eea;
            font-style: italic;
            text-align: center;
            border-left: 3px solid #667eea;
            font-weight: 500;
        }

        .rest-day-text {
            background: #f8f9fa;
            color: #6c757d;
            padding: 0.6rem;
            border-radius: 6px;
            font-size: 0.65rem;
            text-align: center;
            font-style: italic;
            border-left: 3px solid #6c757d;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .workout-details {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
            border: 1px solid #e0e0e0;
        }

        .workout-details h3 {
            color: #1a1a1a;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .detail-section {
            margin-bottom: 2rem;
        }

        .detail-section h4 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .detail-item {
            background: #f8f9ff;
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .detail-item strong {
            color: #667eea;
            display: block;
            margin-bottom: 0.5rem;
        }

        .exercise-detail {
            background: #f8f9ff;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 12px;
            border-left: 4px solid #28a745;
        }

        .exercise-detail h5 {
            color: #28a745;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .exercise-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .exercise-stat {
            background: white;
            padding: 0.75rem;
            border-radius: 6px;
            text-align: center;
        }

        .exercise-stat strong {
            color: #667eea;
            display: block;
            font-size: 0.9rem;
        }

        .exercise-stat span {
            color: #666;
            font-size: 0.8rem;
        }

        .download-options {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            justify-content: center;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .main-container {
                padding: 2rem 1rem;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }

            .workouts-grid {
                grid-template-columns: 1fr;
            }

            .search-section {
                flex-direction: column;
            }

            .workout-actions {
                flex-direction: column;
            }

            .download-options {
                flex-direction: column;
            }

            .calendar-container {
                grid-template-columns: 1fr;
                min-height: auto;
            }

            .calendar-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }

            .calendar-day {
                min-height: 120px;
                padding: 0.75rem;
            }

            .day-header {
                font-size: 0.8rem;
                margin-bottom: 0.4rem;
                padding-bottom: 0.4rem;
            }

            .day-type {
                font-size: 0.7rem;
                margin-bottom: 0.6rem;
            }

            .day-exercises {
                font-size: 0.65rem;
                gap: 0.3rem;
            }

            .exercise-item {
                padding: 0.4rem 0.5rem;
                font-size: 0.6rem;
            }

            .exercise-item strong {
                font-size: 0.65rem;
            }

            .rest-day-text {
                font-size: 0.6rem;
                padding: 0.4rem 0.5rem;
            }

            .workout-details {
                padding: 1rem;
            }

            .detail-grid {
                grid-template-columns: 1fr;
            }

            .exercise-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .exercise-detail {
                padding: 1rem;
            }

            .modal-content {
                width: 98%;
                margin: 1% auto;
            }

            .modal-header {
                padding: 1rem;
            }

            .modal-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .calendar-grid {
                grid-template-columns: 1fr;
            }

            .calendar-day {
                min-height: 100px;
                padding: 0.6rem;
            }

            .day-header {
                font-size: 0.75rem;
                margin-bottom: 0.3rem;
                padding-bottom: 0.3rem;
            }

            .day-type {
                font-size: 0.65rem;
                margin-bottom: 0.5rem;
            }

            .day-exercises {
                font-size: 0.6rem;
                gap: 0.25rem;
            }

            .exercise-item {
                padding: 0.3rem 0.4rem;
                font-size: 0.55rem;
            }

            .exercise-item strong {
                font-size: 0.6rem;
            }

            .rest-day-text {
                font-size: 0.55rem;
                padding: 0.3rem 0.4rem;
            }

            .exercise-stats {
                grid-template-columns: 1fr;
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }
        }

        .fitprep-header {
            position: sticky;
            top: 0;
            width: 100%;
            background: linear-gradient(90deg, #1565c0 0%, #2196f3 100%);
            padding: 1.1rem 0;
            z-index: 1000;
            text-align: left;
            box-shadow: 0 2px 10px rgba(33,150,243,0.08);
        }

        .fitprep-back-btn {
            color: #fff;
            font-weight: 700;
            font-size: 1.1rem;
            text-decoration: none;
            margin-left: 2rem;
            transition: color 0.2s;
        }

        .fitprep-back-btn:hover {
            color: #ffe082;
        }
    </style>
</head>
<body>
    <div class="fitprep-header">
        <a href="landing.html" class="fitprep-back-btn">&larr; Back to FitPrep Home</a>
    </div>
    <!-- Header -->
    <div class="header">
        <h1>Cardiovascular Training Database</h1>
        <p>150,000+ heart-healthy workouts for all fitness levels and abilities</p>
    </div>

    <!-- Stats Bar -->
    <div class="stats-bar">
        <div class="stats-container">
            <div class="stat-item">
                <span class="stat-number">150,000+</span>
                <span class="stat-label">Workouts</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">40+</span>
                <span class="stat-label">Categories</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">8</span>
                <span class="stat-label">Age Groups</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">8</span>
                <span class="stat-label">Accessibility Options</span>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Filters Section -->
        <div class="filters-section">
            <div class="search-section">
                <input type="text" id="searchInput" class="search-input" placeholder="Search workouts...">
                <button onclick="searchWorkouts()" class="search-btn">Search</button>
            </div>
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Category</label>
                    <select id="categoryFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Categories</option>
                        <option value="Running">Running</option>
                        <option value="Cycling">Cycling</option>
                        <option value="Swimming">Swimming</option>
                        <option value="Rowing">Rowing</option>
                        <option value="Elliptical">Elliptical</option>
                        <option value="Jumping">Jumping</option>
                        <option value="Dancing">Dancing</option>
                        <option value="Walking">Walking</option>
                        <option value="Soccer">Soccer</option>
                        <option value="Basketball">Basketball</option>
                        <option value="Tennis">Tennis</option>
                        <option value="Boxing">Boxing</option>
                        <option value="HIIT">HIIT</option>
                        <option value="Yoga">Yoga</option>
                        <option value="Pilates">Pilates</option>
                        <option value="Martial Arts">Martial Arts</option>
                        <option value="Wheelchair Racing">Wheelchair Racing</option>
                        <option value="Seated Aerobics">Seated Aerobics</option>
                        <option value="Aqua Jogging">Aqua Jogging</option>
                        <option value="Nordic Walking">Nordic Walking</option>
                        <option value="Skiing">Skiing</option>
                        <option value="Skating">Skating</option>
                        <option value="Climbing">Climbing</option>
                        <option value="Surfing">Surfing</option>
                        <option value="Kayaking">Kayaking</option>
                        <option value="Adaptive Rowing">Adaptive Rowing</option>
                        <option value="Para-cycling">Para-cycling</option>
                        <option value="Sledge Hockey">Sledge Hockey</option>
                        <option value="Goalball">Goalball</option>
                        <option value="CrossFit">CrossFit</option>
                        <option value="Zumba">Zumba</option>
                        <option value="Spinning">Spinning</option>
                        <option value="Kickboxing">Kickboxing</option>
                        <option value="Aerobics">Aerobics</option>
                        <option value="Step Aerobics">Step Aerobics</option>
                        <option value="Water Aerobics">Water Aerobics</option>
                        <option value="Pole Dancing">Pole Dancing</option>
                        <option value="Hip Hop Dance">Hip Hop Dance</option>
                        <option value="Ballet Fitness">Ballet Fitness</option>
                        <option value="Barre">Barre</option>
                        <option value="TRX">TRX</option>
                        <option value="Kettlebell">Kettlebell</option>
                        <option value="Battle Ropes">Battle Ropes</option>
                        <option value="Rowing Machine">Rowing Machine</option>
                        <option value="StairMaster">StairMaster</option>
                        <option value="VersaClimber">VersaClimber</option>
                        <option value="Assault Bike">Assault Bike</option>
                        <option value="Concept2 Rower">Concept2 Rower</option>
                        <option value="Air Bike">Air Bike</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Experience Level</label>
                    <select id="levelFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Levels</option>
                        <option value="Beginner">Beginner</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Advanced">Advanced</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Age Group</label>
                    <select id="ageFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Ages</option>
                        <option value="Children (5-12)">Children (5-12)</option>
                        <option value="Teens (13-17)">Teens (13-17)</option>
                        <option value="Young Adults (18-25)">Young Adults (18-25)</option>
                        <option value="Adults (26-35)">Adults (26-35)</option>
                        <option value="Adults (36-45)">Adults (36-45)</option>
                        <option value="Adults (46-55)">Adults (46-55)</option>
                        <option value="Seniors (56-65)">Seniors (56-65)</option>
                        <option value="Seniors (66+)">Seniors (66+)</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Weekly Duration</label>
                    <select id="durationFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Durations</option>
                        <option value="2-3 hours">2-3 hours</option>
                        <option value="3-5 hours">3-5 hours</option>
                        <option value="5-7 hours">5-7 hours</option>
                        <option value="7+ hours">7+ hours</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Accessibility</label>
                    <select id="disabilityFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Accessibility</option>
                        <option value="None">No Special Needs</option>
                        <option value="Visual Impairment">Visual Impairment</option>
                        <option value="Hearing Impairment">Hearing Impairment</option>
                        <option value="Mobility Impairment">Mobility Impairment</option>
                        <option value="Cognitive Impairment">Cognitive Impairment</option>
                        <option value="Amputee">Amputee</option>
                        <option value="Wheelchair User">Wheelchair User</option>
                        <option value="Chronic Illness">Chronic Illness</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Location</label>
                    <select id="locationFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Locations</option>
                        <option value="Indoor">Indoor</option>
                        <option value="Outdoor">Outdoor</option>
                        <option value="Pool">Pool</option>
                        <option value="Gym">Gym</option>
                        <option value="Home">Home</option>
                        <option value="Track">Track</option>
                        <option value="Court">Court</option>
                        <option value="Nature">Nature</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Workouts Grid -->
        <div id="workoutsGrid" class="workouts-grid">
            <!-- Workouts will be populated here -->
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <!-- Pagination will be populated here -->
        </div>
    </div>

    <!-- Modal -->
    <div id="workoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Workout Plan</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalContent">
                <!-- Modal content will be populated here -->
            </div>
        </div>
    </div>

    <script>
        let allWorkouts = [];
        let filteredWorkouts = [];
        let currentPage = 1;
        const workoutsPerPage = 12;

        // Generate workout data
        function generateWorkouts() {
            const categories = [
                'Running', 'Cycling', 'Swimming', 'Rowing', 'Elliptical', 'Jumping', 'Dancing', 'Walking',
                'Soccer', 'Basketball', 'Tennis', 'Boxing', 'HIIT', 'Yoga', 'Pilates', 'Martial Arts',
                'Wheelchair Racing', 'Seated Aerobics', 'Aqua Jogging', 'Nordic Walking', 'Skiing', 'Skating',
                'Climbing', 'Surfing', 'Kayaking', 'Adaptive Rowing', 'Para-cycling', 'Sledge Hockey', 'Goalball',
                'CrossFit', 'Zumba', 'Spinning', 'Kickboxing', 'Aerobics', 'Step Aerobics', 'Water Aerobics',
                'Pole Dancing', 'Hip Hop Dance', 'Ballet Fitness', 'Barre', 'TRX', 'Kettlebell', 'Battle Ropes',
                'Rowing Machine', 'StairMaster', 'VersaClimber', 'Assault Bike', 'Concept2 Rower', 'Air Bike'
            ];
            const levels = ['Beginner', 'Intermediate', 'Advanced'];
            const ageGroups = [
                'Children (5-12)', 'Teens (13-17)', 'Young Adults (18-25)', 'Adults (26-35)',
                'Adults (36-45)', 'Adults (46-55)', 'Seniors (56-65)', 'Seniors (66+)'
            ];
            const durations = ['2-3 hours', '3-5 hours', '5-7 hours', '7+ hours'];
            const intensities = ['Low', 'Moderate', 'High'];
            const goals = [
                'Weight Loss', 'Endurance', 'Speed', 'General Fitness', 'Heart Health', 'Stress Relief',
                'Rehabilitation', 'Mobility', 'Sport-Specific', 'Accessibility', 'Muscle Building', 'Flexibility'
            ];
            const disabilities = [
                'None', 'Visual Impairment', 'Hearing Impairment', 'Mobility Impairment',
                'Cognitive Impairment', 'Amputee', 'Wheelchair User', 'Chronic Illness'
            ];
            const locations = ['Indoor', 'Outdoor', 'Pool', 'Gym', 'Home', 'Track', 'Court', 'Nature'];

            for (let i = 1; i <= 150000; i++) {
                const category = categories[Math.floor(Math.random() * categories.length)];
                const level = levels[Math.floor(Math.random() * levels.length)];
                const ageGroup = ageGroups[Math.floor(Math.random() * ageGroups.length)];
                const duration = durations[Math.floor(Math.random() * durations.length)];
                const intensity = intensities[Math.floor(Math.random() * intensities.length)];
                const goal = goals[Math.floor(Math.random() * goals.length)];
                const disability = disabilities[Math.floor(Math.random() * disabilities.length)];
                const location = locations[Math.floor(Math.random() * locations.length)];

                // Estimate calories burnt based on METs, duration, and intensity
                const baseMET = intensity === 'Low' ? 4 : intensity === 'Moderate' ? 7 : 10;
                const hours = parseFloat(duration.split('-')[0]) || 2;
                const weight = ageGroup.includes('Children') ? 35 : ageGroup.includes('Teens') ? 55 : ageGroup.includes('Seniors') ? 65 : 75; // kg
                const calories = Math.round(baseMET * weight * hours);

                const workout = {
                    id: i,
                    title: `${category} ${level} Workout ${i}`,
                    category: category,
                    level: level,
                    ageGroup: ageGroup,
                    duration: duration,
                    intensity: intensity,
                    goal: goal,
                    disability: disability,
                    location: location,
                    calories: calories,
                    description: `A ${intensity.toLowerCase()} intensity ${category.toLowerCase()} workout for ${level.toLowerCase()} ${ageGroup.toLowerCase()}${disability !== 'None' ? ' (adapted for ' + disability.toLowerCase() + ')' : ''}. Estimated calories burnt: ${calories}. Location: ${location}. Perfect for ${goal.toLowerCase()}.`,
                    weeklyPlan: generateWeeklyPlan(category, level, intensity, ageGroup, disability, location)
                };

                allWorkouts.push(workout);
            }
        }

        function generateWeeklyPlan(category, level, intensity, ageGroup, disability, location) {
            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const plan = [];

            days.forEach((day, index) => {
                if (index === 2 || index === 5) { // Wednesday and Saturday are rest days
                    plan.push({
                        day: day,
                        type: 'rest',
                        description: disability !== 'None' ? 'Accessible recovery or rest day' : 'Active recovery or complete rest day'
                    });
                } else {
                    plan.push({
                        day: day,
                        type: 'workout',
                        description: `${category} training session (${location})`,
                        exercises: generateExercises(category, level, intensity, ageGroup, disability, location)
                    });
                }
            });

            return plan;
        }

        function generateExercises(category, level, intensity, ageGroup, disability, location) {
            const exerciseLibrary = {
                'Running': {
                    'Children (5-12)': ['Tag Run', 'Relay Sprints', 'Obstacle Dash', 'Animal Walks', 'Follow the Leader'],
                    'Teens (13-17)': ['Interval Sprints', 'Hill Repeats', 'Fartlek Training', 'Tempo Runs', 'Long Distance'],
                    'Young Adults (18-25)': ['HIIT Sprints', 'Progressive Runs', 'Threshold Training', 'Recovery Jogs', 'Race Pace'],
                    'Adults (26-35)': ['Tempo Intervals', 'Hill Training', 'Endurance Runs', 'Speed Work', 'Recovery Runs'],
                    'Adults (36-45)': ['Moderate Intervals', 'Gentle Hills', 'Steady State', 'Easy Runs', 'Walking Breaks'],
                    'Adults (46-55)': ['Light Intervals', 'Flat Terrain', 'Conversational Pace', 'Walk-Run', 'Stretching'],
                    'Seniors (56-65)': ['Brisk Walking', 'Gentle Jogging', 'Walking Intervals', 'Stretching', 'Balance Work'],
                    'Seniors (66+)': ['Leisurely Walking', 'Chair Exercises', 'Balance Training', 'Flexibility', 'Light Movement'],
                    'Wheelchair User': ['Wheelchair Sprints', 'Seated Arm Drive', 'Wheelchair Basketball', 'Hand Cycling', 'Seated Boxing'],
                    'Visual Impairment': ['Guided Running', 'Treadmill with Guide', 'Indoor Track', 'Seated Cardio', 'Audio-Guided Workouts'],
                    'default': ['Interval Run', 'Tempo Run', 'Hill Sprints', 'Recovery Jog', 'Long Distance']
                },
                'Cycling': {
                    'Children (5-12)': ['Bike Ride', 'Stationary Pedal', 'Balance Bike', 'Obstacle Course', 'Group Ride'],
                    'Teens (13-17)': ['Road Cycling', 'Mountain Biking', 'Spin Class', 'Hill Climbing', 'Endurance Ride'],
                    'Young Adults (18-25)': ['High-Intensity Spinning', 'Road Racing', 'Mountain Trails', 'Indoor Cycling', 'Time Trials'],
                    'Adults (26-35)': ['Spin Intervals', 'Road Cycling', 'Recumbent Bike', 'Stationary Cycling', 'Group Rides'],
                    'Adults (36-45)': ['Moderate Spinning', 'Leisure Cycling', 'Recumbent Bike', 'Indoor Cycling', 'Easy Rides'],
                    'Adults (46-55)': ['Gentle Spinning', 'Stationary Bike', 'Recumbent Cycling', 'Seated Pedaling', 'Stretching'],
                    'Seniors (56-65)': ['Recumbent Bike', 'Stationary Cycling', 'Seated Pedaling', 'Balance Work', 'Flexibility'],
                    'Seniors (66+)': ['Recumbent Bike', 'Gentle Pedaling', 'Seated Exercises', 'Range of Motion', 'Light Movement'],
                    'Wheelchair User': ['Handcycle', 'Arm Ergometer', 'Seated Cycling', 'Wheelchair Sports', 'Upper Body Cardio'],
                    'Visual Impairment': ['Tandem Cycling', 'Stationary Bike', 'Indoor Cycling', 'Seated Cardio', 'Audio-Guided Workouts'],
                    'default': ['Road Cycling', 'Spin Class', 'Hill Climb', 'Recovery Ride', 'Endurance Cycling']
                },
                'Swimming': {
                    'Children (5-12)': ['Kickboard Swim', 'Fun Laps', 'Water Games', 'Floating Exercises', 'Pool Play'],
                    'Teens (13-17)': ['Freestyle', 'Backstroke', 'Breaststroke', 'Butterfly', 'Water Polo'],
                    'Young Adults (18-25)': ['Competitive Swimming', 'Triathlon Training', 'Water Aerobics', 'Lap Swimming', 'Diving'],
                    'Adults (26-35)': ['Lap Swimming', 'Water Aerobics', 'Aqua Jogging', 'Swimming Intervals', 'Recovery Swim'],
                    'Adults (36-45)': ['Gentle Laps', 'Water Walking', 'Aqua Aerobics', 'Swimming', 'Pool Exercises'],
                    'Adults (46-55)': ['Water Walking', 'Gentle Swimming', 'Aqua Therapy', 'Pool Exercises', 'Stretching'],
                    'Seniors (56-65)': ['Aqua Jogging', 'Water Walking', 'Gentle Swim', 'Pool Therapy', 'Range of Motion'],
                    'Seniors (66+)': ['Water Walking', 'Gentle Movement', 'Pool Therapy', 'Seated Pool Exercises', 'Balance Work'],
                    'Wheelchair User': ['Aqua Arm Circles', 'Pool Resistance', 'Water Wheelchair', 'Seated Swimming', 'Pool Therapy'],
                    'Visual Impairment': ['Guided Swimming', 'Pool Walking', 'Seated Pool Exercises', 'Water Therapy', 'Audio-Guided Workouts'],
                    'default': ['Freestyle', 'Backstroke', 'Interval Swim', 'Water Aerobics', 'Aqua Jogging']
                },
                'HIIT': {
                    'Children (5-12)': ['Jumping Jacks', 'High Knees', 'Burpees', 'Mountain Climbers', 'Squat Jumps'],
                    'Teens (13-17)': ['Burpees', 'Mountain Climbers', 'Jump Squats', 'Push-ups', 'Plank Variations'],
                    'Young Adults (18-25)': ['Advanced Burpees', 'Box Jumps', 'Kettlebell Swings', 'Battle Ropes', 'Medicine Ball Slams'],
                    'Adults (26-35)': ['Modified Burpees', 'Jump Squats', 'Push-ups', 'Mountain Climbers', 'Plank Holds'],
                    'Adults (36-45)': ['Gentle Burpees', 'Squat Variations', 'Modified Push-ups', 'Step-ups', 'Plank Variations'],
                    'Adults (46-55)': ['Step-ups', 'Gentle Squats', 'Wall Push-ups', 'Marching in Place', 'Seated Exercises'],
                    'Seniors (56-65)': ['Chair Squats', 'Seated Marches', 'Arm Circles', 'Gentle Stretching', 'Balance Work'],
                    'Seniors (66+)': ['Seated Exercises', 'Gentle Movement', 'Range of Motion', 'Balance Training', 'Light Stretching'],
                    'Wheelchair User': ['Seated Boxing', 'Arm Circles', 'Seated Marches', 'Upper Body Cardio', 'Wheelchair Sports'],
                    'Visual Impairment': ['Audio-Guided HIIT', 'Seated Cardio', 'Balance Work', 'Gentle Movement', 'Stretching'],
                    'default': ['Burpees', 'Mountain Climbers', 'Jump Squats', 'Push-ups', 'Plank Variations']
                },
                'Yoga': {
                    'Children (5-12)': ['Animal Poses', 'Sun Salutations', 'Tree Pose', 'Warrior Poses', 'Child\'s Pose'],
                    'Teens (13-17)': ['Vinyasa Flow', 'Power Yoga', 'Balance Poses', 'Strength Poses', 'Meditation'],
                    'Young Adults (18-25)': ['Power Yoga', 'Ashtanga', 'Vinyasa Flow', 'Inversion Poses', 'Advanced Poses'],
                    'Adults (26-35)': ['Vinyasa Yoga', 'Hatha Yoga', 'Power Yoga', 'Restorative Yoga', 'Meditation'],
                    'Adults (36-45)': ['Gentle Vinyasa', 'Hatha Yoga', 'Restorative Yoga', 'Chair Yoga', 'Breathing Exercises'],
                    'Adults (46-55)': ['Chair Yoga', 'Gentle Hatha', 'Restorative Poses', 'Breathing Work', 'Stretching'],
                    'Seniors (56-65)': ['Chair Yoga', 'Gentle Stretching', 'Balance Poses', 'Breathing Exercises', 'Meditation'],
                    'Seniors (66+)': ['Seated Yoga', 'Gentle Movement', 'Breathing Work', 'Range of Motion', 'Meditation'],
                    'Wheelchair User': ['Chair Yoga', 'Seated Poses', 'Upper Body Stretches', 'Breathing Work', 'Meditation'],
                    'Visual Impairment': ['Audio-Guided Yoga', 'Chair Yoga', 'Gentle Movement', 'Breathing Exercises', 'Meditation'],
                    'default': ['Sun Salutations', 'Warrior Poses', 'Balance Poses', 'Restorative Poses', 'Meditation']
                },
                'Dancing': {
                    'Children (5-12)': ['Free Dance', 'Follow the Leader', 'Animal Dance', 'Musical Chairs', 'Dance Games'],
                    'Teens (13-17)': ['Hip Hop', 'Contemporary', 'Jazz Dance', 'Ballet Basics', 'Street Dance'],
                    'Young Adults (18-25)': ['Hip Hop', 'Contemporary', 'Jazz', 'Ballet', 'Latin Dance'],
                    'Adults (26-35)': ['Zumba', 'Hip Hop', 'Contemporary', 'Latin Dance', 'Ballet Fitness'],
                    'Adults (36-45)': ['Gentle Zumba', 'Line Dancing', 'Ballroom Basics', 'Seated Dance', 'Movement Classes'],
                    'Adults (46-55)': ['Seated Dance', 'Gentle Movement', 'Chair Dancing', 'Stretching', 'Range of Motion'],
                    'Seniors (56-65)': ['Chair Dancing', 'Gentle Movement', 'Seated Exercises', 'Balance Work', 'Stretching'],
                    'Seniors (66+)': ['Seated Movement', 'Gentle Stretching', 'Range of Motion', 'Balance Training', 'Light Movement'],
                    'Wheelchair User': ['Wheelchair Dance', 'Seated Movement', 'Upper Body Dance', 'Chair Dancing', 'Adaptive Dance'],
                    'Visual Impairment': ['Audio-Guided Dance', 'Seated Movement', 'Gentle Dance', 'Balance Work', 'Stretching'],
                    'default': ['Hip Hop', 'Contemporary', 'Jazz Dance', 'Latin Dance', 'Ballet Fitness']
                }
            };
            // Fallback: sport-specific or general cardio exercises
            const fallbackExercises = {
                'Running': ['Interval Run', 'Tempo Run', 'Hill Sprints', 'Recovery Jog', 'Long Distance'],
                'Cycling': ['Road Cycling', 'Spin Class', 'Hill Climb', 'Recovery Ride', 'Endurance Cycling'],
                'Swimming': ['Freestyle', 'Backstroke', 'Interval Swim', 'Water Aerobics', 'Aqua Jogging'],
                'HIIT': ['Burpees', 'Mountain Climbers', 'Jump Squats', 'Push-ups', 'Plank Variations'],
                'Yoga': ['Sun Salutations', 'Warrior Poses', 'Balance Poses', 'Restorative Poses', 'Meditation'],
                'Dancing': ['Hip Hop', 'Contemporary', 'Jazz Dance', 'Latin Dance', 'Ballet Fitness'],
                'Rowing': ['Rowing Machine', 'Water Rowing', 'Interval Row', 'Power Strokes', 'Steady State Row'],
                'Boxing': ['Shadow Boxing', 'Heavy Bag', 'Speed Bag', 'Footwork Drills', 'Pad Work'],
                'Martial Arts': ['Kick Drills', 'Punch Drills', 'Sparring', 'Forms Practice', 'Agility Drills'],
                'CrossFit': ['Box Jumps', 'Wall Balls', 'Kettlebell Swings', 'Double Unders', 'Rowing'],
                'Zumba': ['Merengue', 'Salsa', 'Cumbia', 'Reggaeton', 'Cool Down Dance'],
                'Spinning': ['Seated Climb', 'Standing Sprint', 'Jumps', 'Endurance Ride', 'Cool Down'],
                'Kickboxing': ['Roundhouse Kicks', 'Jab-Cross', 'Hooks', 'Knee Strikes', 'Pad Work'],
                'Aerobics': ['Step Touch', 'Grapevine', 'Knee Lifts', 'Hamstring Curl', 'March in Place'],
                'Step Aerobics': ['Basic Step', 'V-Step', 'Corner Knee', 'Over the Top', 'Repeater Knee'],
                'Water Aerobics': ['Aqua Jog', 'Flutter Kick', 'Water Push-ups', 'Jumping Jacks', 'Tuck Jumps'],
                'Wheelchair Racing': ['Wheelchair Sprints', 'Arm Drive', 'Interval Push', 'Speed Endurance', 'Recovery Push'],
                'Seated Aerobics': ['Seated March', 'Seated Jacks', 'Arm Circles', 'Toe Taps', 'Seated Twists'],
                'Aqua Jogging': ['Aqua Jog', 'Water High Knees', 'Flutter Kick', 'Aqua Butt Kicks', 'Water Sprints'],
                'Nordic Walking': ['Pole Walking', 'Hill Climb', 'Interval Walk', 'Technique Drills', 'Endurance Walk'],
                'Skiing': ['Cross-Country Ski', 'Downhill Run', 'Ski Jumps', 'Slalom Practice', 'Balance Drills'],
                'Skating': ['Speed Skating', 'Figure 8s', 'Backward Skate', 'Sprint Intervals', 'Cool Down'],
                'Climbing': ['Bouldering', 'Top Rope', 'Dynos', 'Grip Drills', 'Endurance Climb'],
                'Surfing': ['Paddle Out', 'Duck Dive', 'Pop Up Practice', 'Wave Riding', 'Balance Drills'],
                'Kayaking': ['Interval Paddle', 'Sprint Paddle', 'Technique Drills', 'Endurance Paddle', 'Core Work'],
                'Adaptive Rowing': ['Seated Row', 'Arm Drive', 'Interval Row', 'Power Strokes', 'Recovery Row'],
                'Para-cycling': ['Handcycle', 'Recumbent Cycle', 'Interval Ride', 'Speed Work', 'Endurance Ride'],
                'Sledge Hockey': ['Puck Handling', 'Sprint Drills', 'Passing', 'Shooting', 'Agility Drills'],
                'Goalball': ['Throw Practice', 'Defensive Drills', 'Agility Work', 'Team Passing', 'Game Simulation'],
                'default': ['Jump Rope', 'Stair Climb', 'Mountain Climbers', 'Jumping Jacks', 'High Knees', 'Bear Crawl', 'Agility Ladder', 'Box Step-Ups', 'Medicine Ball Slams', 'Rowing Machine']
            };
            const exerciseCount = level === 'Beginner' ? 3 : level === 'Intermediate' ? 4 : 5;
            let exercises = [];
            for (let i = 0; i < exerciseCount; i++) {
                let exList = (exerciseLibrary[category] && (
                    exerciseLibrary[category][disability] || 
                    exerciseLibrary[category][ageGroup] || 
                    exerciseLibrary[category]['default']
                )) || fallbackExercises[category] || fallbackExercises['default'];
                const name = exList[i % exList.length];
                const durationMin = intensity === 'Low' ? 10 : intensity === 'Moderate' ? 15 : 20;
                const sets = level === 'Beginner' ? 2 : level === 'Intermediate' ? 3 : 4;
                const reps = intensity === 'Low' ? 8 : intensity === 'Moderate' ? 12 : 15;
                exercises.push({
                    name: name,
                    duration: `${durationMin + Math.floor(Math.random() * 10)} minutes`,
                    sets: sets,
                    reps: reps,
                    intensity: intensity,
                    description: `${intensity} intensity ${name.toLowerCase()} (${location}) - ${sets} sets of ${reps} reps`
                });
            }
            return exercises;
        }

        // Filter and display workouts
        function filterWorkouts() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const levelFilter = document.getElementById('levelFilter').value;
            const ageFilter = document.getElementById('ageFilter').value;
            const durationFilter = document.getElementById('durationFilter').value;
            const disabilityFilter = document.getElementById('disabilityFilter').value;
            const locationFilter = document.getElementById('locationFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            filteredWorkouts = allWorkouts.filter(workout => {
                const matchesCategory = !categoryFilter || workout.category === categoryFilter;
                const matchesLevel = !levelFilter || workout.level === levelFilter;
                const matchesAge = !ageFilter || workout.ageGroup === ageFilter;
                const matchesDuration = !durationFilter || workout.duration === durationFilter;
                const matchesDisability = !disabilityFilter || workout.disability === disabilityFilter;
                const matchesLocation = !locationFilter || workout.location === locationFilter;
                const matchesSearch = !searchTerm || 
                    workout.title.toLowerCase().includes(searchTerm) ||
                    workout.description.toLowerCase().includes(searchTerm) ||
                    workout.category.toLowerCase().includes(searchTerm);

                return matchesCategory && matchesLevel && matchesAge && matchesDuration && matchesDisability && matchesLocation && matchesSearch;
            });

            currentPage = 1;
            displayWorkouts();
            displayPagination();
        }

        function searchWorkouts() {
            filterWorkouts();
        }

        // Display workouts
        function displayWorkouts() {
            const grid = document.getElementById('workoutsGrid');
            const startIndex = (currentPage - 1) * workoutsPerPage;
            const endIndex = startIndex + workoutsPerPage;
            const pageWorkouts = filteredWorkouts.slice(startIndex, endIndex);

            grid.innerHTML = pageWorkouts.map(workout => `
                <div class="workout-card" onclick="openWorkoutModal(${workout.id})">
                    <div class="workout-header">
                        <div class="workout-title">${workout.title}</div>
                        <div class="workout-category">${workout.category}</div>
                    </div>
                    <div class="workout-body">
                        <div class="workout-stats">
                            <span>Level: ${workout.level}</span>
                            <span>Duration: ${workout.duration}</span>
                            <span>Calories: ${workout.calories}</span>
                        </div>
                        <div class="workout-description">${workout.description}</div>
                        <div class="workout-tags">
                            <span class="tag">${workout.ageGroup}</span>
                            <span class="tag">${workout.intensity}</span>
                            <span class="tag">${workout.goal}</span>
                            <span class="tag">${workout.location}</span>
                            ${workout.disability !== 'None' ? `<span class="tag">${workout.disability}</span>` : ''}
                        </div>
                        <div class="workout-actions">
                            <button class="btn btn-primary">View Plan</button>
                            <button class="btn btn-secondary" onclick="event.stopPropagation(); downloadWorkout(${workout.id})">Download</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Pagination
        function displayPagination() {
            const totalPages = Math.ceil(filteredWorkouts.length / workoutsPerPage);
            const pagination = document.getElementById('pagination');

            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let paginationHTML = '';
            
            if (currentPage > 1) {
                paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage - 1})">Previous</button>`;
            }

            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>`;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += `<span>...</span>`;
                }
            }

            if (currentPage < totalPages) {
                paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage + 1})">Next</button>`;
            }

            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            displayWorkouts();
            displayPagination();
        }

        // Modal functions
        function openWorkoutModal(workoutId) {
            const workout = allWorkouts.find(w => w.id === workoutId);
            if (!workout) return;

            document.getElementById('modalTitle').textContent = workout.title;
            
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div class="calendar-container">
                    <div class="workout-overview">
                        <h3>Workout Overview</h3>
                        <div class="overview-item">
                            <strong>Category:</strong> ${workout.category}
                        </div>
                        <div class="overview-item">
                            <strong>Level:</strong> ${workout.level}
                        </div>
                        <div class="overview-item">
                            <strong>Age Group:</strong> ${workout.ageGroup}
                        </div>
                        <div class="overview-item">
                            <strong>Duration:</strong> ${workout.duration}
                        </div>
                        <div class="overview-item">
                            <strong>Intensity:</strong> ${workout.intensity}
                        </div>
                        <div class="overview-item">
                            <strong>Goal:</strong> ${workout.goal}
                        </div>
                        <div class="overview-item">
                            <strong>Location:</strong> ${workout.location}
                        </div>
                        <div class="overview-item">
                            <strong>Calories:</strong> ${workout.calories} kcal
                        </div>
                        ${workout.disability !== 'None' ? `
                        <div class="overview-item">
                            <strong>Accessibility:</strong> ${workout.disability}
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="calendar-grid">
                        ${workout.weeklyPlan.map(day => `
                            <div class="calendar-day ${day.type}" onclick="showDayDetails('${day.day}', ${workoutId})">
                                <div class="day-header">${day.day}</div>
                                <div class="day-type">${day.type === 'workout' ? 'Training' : 'Rest'}</div>
                                <div class="day-exercises">
                                    ${day.type === 'workout' && day.exercises ? 
                                        day.exercises.slice(0, 3).map(exercise => `
                                            <div class="exercise-item">
                                                <strong>${exercise.name}</strong>
                                                ${exercise.duration}  ${exercise.sets} sets  ${exercise.intensity}
                                            </div>
                                        `).join('') : 
                                        `<div class="rest-day-text">Active Recovery<br>Light stretching & mobility</div>`
                                    }
                                    ${day.type === 'workout' && day.exercises && day.exercises.length > 3 ? 
                                        `<div class="exercise-item more-exercises">+${day.exercises.length - 3} more exercises</div>` : ''
                                    }
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="workout-details">
                    <h3>Complete Workout Information</h3>
                    
                    <div class="detail-section">
                        <h4>Equipment & Setup</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <strong>Required Equipment:</strong>
                                <span>${getEquipmentNeeded(workout.category, workout.location)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Space Requirements:</strong>
                                <span>${getSpaceRequirements(workout.category, workout.location)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Weather Considerations:</strong>
                                <span>${getWeatherConsiderations(workout.location)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Safety Equipment:</strong>
                                <span>${getSafetyEquipment(workout.category, workout.level)}</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Nutrition & Hydration</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <strong>Pre-Workout (2-3 hours):</strong>
                                <span>${getPreWorkoutNutrition(workout.intensity, workout.duration)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>During Workout:</strong>
                                <span>${getDuringWorkoutNutrition(workout.intensity, workout.duration)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Post-Workout (within 30 min):</strong>
                                <span>${getPostWorkoutNutrition(workout.intensity, workout.calories)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Hydration Plan:</strong>
                                <span>${getHydrationPlan(workout.intensity, workout.duration)}</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Safety Guidelines</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <strong>Warm-up (10-15 min):</strong>
                                <span>${getWarmupRoutine(workout.category, workout.level)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Cool-down (5-10 min):</strong>
                                <span>${getCooldownRoutine(workout.category, workout.level)}</span>
                            </div>
                            <div class="detail-item">
                                <strong>Warning Signs:</strong>
                                <span>Stop if you experience chest pain, dizziness, or extreme fatigue</span>
                            </div>
                            <div class="detail-item">
                                <strong>Medical Clearance:</strong>
                                <span>Consult healthcare provider before starting this program</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Progress Tracking</h4>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <strong>Weekly Goals:</strong>
                                <span>Complete ${workout.weeklyPlan.filter(d => d.type === 'workout').length} training sessions</span>
                            </div>
                            <div class="detail-item">
                                <strong>Monthly Milestones:</strong>
                                <span>Increase duration by 10% every 4 weeks</span>
                            </div>
                            <div class="detail-item">
                                <strong>Performance Metrics:</strong>
                                <span>Track heart rate, pace, and perceived exertion</span>
                            </div>
                            <div class="detail-item">
                                <strong>Recovery Indicators:</strong>
                                <span>Monitor sleep quality and muscle soreness</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>Weekly Exercise Breakdown</h4>
                        ${workout.weeklyPlan.map((day, index) => `
                            <div class="exercise-detail">
                                <h5>${day.day} - ${day.type === 'workout' ? 'Training Session' : 'Recovery Day'}</h5>
                                <p><strong>Focus:</strong> ${day.description}</p>
                                ${day.type === 'workout' && day.exercises ? `
                                    <div class="exercise-stats">
                                        <div class="exercise-stat">
                                            <strong>Total Time</strong>
                                            <span>${day.exercises.reduce((total, ex) => total + parseInt(ex.duration), 0)} min</span>
                                        </div>
                                        <div class="exercise-stat">
                                            <strong>Exercises</strong>
                                            <span>${day.exercises.length}</span>
                                        </div>
                                        <div class="exercise-stat">
                                            <strong>Intensity</strong>
                                            <span>${day.exercises[0]?.intensity || 'Moderate'}</span>
                                        </div>
                                        <div class="exercise-stat">
                                            <strong>Calories</strong>
                                            <span>~${Math.round(workout.calories / 5)} kcal</span>
                                        </div>
                                    </div>
                                    <div style="margin-top: 1rem;">
                                        <strong>Exercise Sequence:</strong>
                                        <ol style="margin-top: 0.5rem; padding-left: 1.5rem;">
                                            ${day.exercises.map((exercise, exIndex) => `
                                                <li style="margin-bottom: 0.5rem;">
                                                    <strong>${exercise.name}</strong><br>
                                                    <span style="font-size: 0.9rem; color: #666;">
                                                        ${exercise.duration}  ${exercise.sets} sets  ${exercise.reps} reps  ${exercise.intensity} intensity
                                                    </span>
                                                </li>
                                            `).join('')}
                                        </ol>
                                    </div>
                                ` : `
                                    <div class="exercise-stats">
                                        <div class="exercise-stat">
                                            <strong>Recovery Type</strong>
                                            <span>Active Rest</span>
                                        </div>
                                        <div class="exercise-stat">
                                            <strong>Duration</strong>
                                            <span>20-30 min</span>
                                        </div>
                                        <div class="exercise-stat">
                                            <strong>Intensity</strong>
                                            <span>Very Low</span>
                                        </div>
                                        <div class="exercise-stat">
                                            <strong>Calories</strong>
                                            <span>~50 kcal</span>
                                        </div>
                                    </div>
                                    <p style="margin-top: 1rem;"><strong>Recovery Activities:</strong> Light stretching, walking, yoga, or complete rest</p>
                                `}
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="download-options">
                    <button class="btn btn-primary" onclick="downloadWorkout(${workout.id})">Download Complete Plan</button>
                    <button class="btn btn-secondary" onclick="downloadAllWorkouts()">Download All</button>
                </div>
            `;

            document.getElementById('workoutModal').style.display = 'block';
        }

        function showDayDetails(dayName, workoutId) {
            const workout = allWorkouts.find(w => w.id === workoutId);
            const day = workout.weeklyPlan.find(d => d.day === dayName);
            
            if (!day) return;
            
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div class="calendar-container">
                    <div class="workout-overview">
                        <h3>${dayName} - ${day.type === 'workout' ? 'Training Day' : 'Rest Day'}</h3>
                        <div class="overview-item">
                            <strong>Type:</strong> ${day.type === 'workout' ? 'Training Session' : 'Recovery Day'}
                        </div>
                        <div class="overview-item">
                            <strong>Description:</strong> ${day.description}
                        </div>
                        ${day.type === 'workout' && day.exercises ? `
                        <div class="overview-item">
                            <strong>Total Exercises:</strong> ${day.exercises.length}
                        </div>
                        <div class="overview-item">
                            <strong>Estimated Duration:</strong> ${day.exercises.reduce((total, ex) => total + parseInt(ex.duration), 0)} minutes
                        </div>
                        ` : ''}
                    </div>
                    
                    <div style="grid-column: 2;">
                        ${day.type === 'workout' && day.exercises ? `
                            <h3>Exercise Details</h3>
                            ${day.exercises.map((exercise, index) => `
                                <div class="exercise-item" style="margin-bottom: 1rem; padding: 1rem;">
                                    <h4 style="color: #667eea; margin-bottom: 0.5rem;">${index + 1}. ${exercise.name}</h4>
                                    <p><strong>Duration:</strong> ${exercise.duration}</p>
                                    <p><strong>Sets:</strong> ${exercise.sets}</p>
                                    <p><strong>Reps:</strong> ${exercise.reps}</p>
                                    <p><strong>Intensity:</strong> ${exercise.intensity}</p>
                                    <p><strong>Description:</strong> ${exercise.description}</p>
                                </div>
                            `).join('')}
                        ` : `
                            <div class="exercise-item" style="padding: 2rem; text-align: center;">
                                <h3 style="color: #6c757d;">Rest Day</h3>
                                <p>${day.description}</p>
                                <p>Focus on recovery, stretching, and light movement.</p>
                            </div>
                        `}
                    </div>
                </div>

                <div class="download-options">
                    <button class="btn btn-primary" onclick="openWorkoutModal(${workoutId})">Back to Weekly Plan</button>
                    <button class="btn btn-secondary" onclick="downloadWorkout(${workout.id})">Download Plan</button>
                </div>
            `;
        }

        function closeModal() {
            document.getElementById('workoutModal').style.display = 'none';
        }

        // Download functions
        function downloadWorkout(workoutId) {
            const workout = allWorkouts.find(w => w.id === workoutId);
            if (!workout) return;

            const content = `
Cardiovascular Training Workout Plan
===================================

Title: ${workout.title}
Category: ${workout.category}
Level: ${workout.level}
Age Group: ${workout.ageGroup}
Duration: ${workout.duration}
Intensity: ${workout.intensity}
Goal: ${workout.goal}

Description: ${workout.description}

7-DAY WEEKLY PLAN
=================

${workout.weeklyPlan.map(day => `
${day.day.toUpperCase()}
Type: ${day.type === 'workout' ? 'Training Day' : 'Rest Day'}
Description: ${day.description}
${day.type === 'workout' && day.exercises ? `
Exercises:
${day.exercises.map(exercise => `- ${exercise.name}: ${exercise.duration} (${exercise.intensity} intensity)`).join('\n')}
` : ''}
`).join('\n')}

Notes:
- Always warm up before starting your workout
- Stay hydrated throughout your session
- Listen to your body and adjust intensity as needed
- Consult with a healthcare provider before starting any new exercise program
            `;

            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${workout.title.replace(/\s+/g, '_')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function downloadAllWorkouts() {
            const csvContent = [
                ['ID', 'Title', 'Category', 'Level', 'Age Group', 'Duration', 'Intensity', 'Goal', 'Description'],
                ...filteredWorkouts.map(workout => [
                    workout.id,
                    workout.title,
                    workout.category,
                    workout.level,
                    workout.ageGroup,
                    workout.duration,
                    workout.intensity,
                    workout.goal,
                    workout.description
                ])
            ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'cardiovascular_workouts.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('workoutModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // Helper functions for detailed workout information
        function getEquipmentNeeded(category, location) {
            const equipment = {
                'Running': location === 'Indoor' ? 'Treadmill, running shoes' : 'Running shoes, GPS watch',
                'Cycling': location === 'Indoor' ? 'Stationary bike, cycling shoes' : 'Bicycle, helmet, cycling shoes',
                'Swimming': 'Swimsuit, goggles, swim cap, pool access',
                'HIIT': 'Comfortable workout clothes, timer, space',
                'Yoga': 'Yoga mat, comfortable clothing, quiet space',
                'Dancing': 'Comfortable shoes, music player, space',
                'Boxing': 'Boxing gloves, punching bag, hand wraps',
                'default': 'Comfortable workout clothes, appropriate footwear'
            };
            return equipment[category] || equipment['default'];
        }

        function getSpaceRequirements(category, location) {
            const space = {
                'Running': location === 'Indoor' ? 'Treadmill space' : 'Outdoor path or track',
                'Cycling': location === 'Indoor' ? 'Stationary bike area' : 'Road or bike path',
                'Swimming': 'Pool (25m or longer recommended)',
                'HIIT': 'Open space (10x10 feet minimum)',
                'Yoga': 'Quiet space (6x6 feet minimum)',
                'Dancing': 'Open space (8x8 feet minimum)',
                'Boxing': 'Space for punching bag and movement',
                'default': 'Open area with good ventilation'
            };
            return space[category] || space['default'];
        }

        function getWeatherConsiderations(location) {
            if (location === 'Indoor') return 'Climate controlled environment';
            if (location === 'Outdoor') return 'Check weather, avoid extreme conditions';
            if (location === 'Pool') return 'Indoor pool recommended for consistency';
            return 'Consider weather and environmental factors';
        }

        function getSafetyEquipment(category, level) {
            const safety = {
                'Running': 'Reflective gear for outdoor, proper footwear',
                'Cycling': 'Helmet, reflective gear, lights',
                'Swimming': 'Lifeguard supervision recommended',
                'Boxing': 'Proper gloves, hand wraps, supervision',
                'Climbing': 'Harness, helmet, proper training',
                'default': 'Appropriate footwear, comfortable clothing'
            };
            return safety[category] || safety['default'];
        }

        function getPreWorkoutNutrition(intensity, duration) {
            if (intensity === 'High') return 'Complex carbs + protein 2-3 hours before';
            if (intensity === 'Moderate') return 'Light meal or snack 1-2 hours before';
            return 'Small snack 30-60 minutes before';
        }

        function getDuringWorkoutNutrition(intensity, duration) {
            if (duration.includes('5+') || duration.includes('7+')) return 'Electrolyte drink, energy gels for long sessions';
            if (intensity === 'High') return 'Water, electrolyte replacement';
            return 'Water as needed';
        }

        function getPostWorkoutNutrition(intensity, calories) {
            if (intensity === 'High') return 'Protein + carbs within 30 minutes';
            if (intensity === 'Moderate') return 'Light snack with protein';
            return 'Hydrate well, light snack if needed';
        }

        function getHydrationPlan(intensity, duration) {
            if (intensity === 'High') return '16-20 oz water 2 hours before, 8-10 oz every 15 min during';
            if (intensity === 'Moderate') return '16 oz water 1 hour before, 6-8 oz every 20 min during';
            return '8-16 oz water before, drink to thirst during';
        }

        function getWarmupRoutine(category, level) {
            const warmups = {
                'Running': '5-10 min walking, dynamic stretches, light jogging',
                'Cycling': '5-10 min easy pedaling, leg swings, hip circles',
                'Swimming': '5-10 min easy swimming, arm circles, shoulder rolls',
                'HIIT': '5-10 min light cardio, dynamic movements, joint mobility',
                'Yoga': 'Gentle stretches, breathing exercises, sun salutations',
                'default': '5-10 min light cardio, dynamic stretching, joint mobility'
            };
            return warmups[category] || warmups['default'];
        }

        function getCooldownRoutine(category, level) {
            const cooldowns = {
                'Running': '5-10 min walking, static stretches, foam rolling',
                'Cycling': '5-10 min easy pedaling, leg stretches, hip openers',
                'Swimming': '5-10 min easy swimming, gentle stretches',
                'HIIT': '5-10 min light walking, static stretches, deep breathing',
                'Yoga': 'Savasana, gentle stretches, meditation',
                'default': '5-10 min light activity, static stretching, deep breathing'
            };
            return cooldowns[category] || cooldowns['default'];
        }

        // Initialize
        generateWorkouts();
        filteredWorkouts = allWorkouts;
        displayWorkouts();
        displayPagination();
    </script>
</body>
</html> 