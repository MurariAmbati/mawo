<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAWO - HIIT Training Database | 50,000+ High-Intensity Workouts</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #ff6600;
            --primary-dark: #c43d00;
            --accent: #00bfff;
            --bg: #181818;
            --bg-light: #232323;
            --white: #fff;
            --gray: #aaa;
            --cube: #222;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
            background: var(--bg);
            color: var(--white);
            min-height: 100vh;
        }
        .header {
            background: #ff6600;
            padding: 4rem 0 2rem 0;
            text-align: center;
            color: var(--white);
        }
        .header h1 {
            font-size: 3.2rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
        }
        .header p {
            font-size: 1.3rem;
            color: rgba(255,255,255,0.92);
            font-weight: 400;
        }
        .stats-bar {
            background: var(--bg-light);
            padding: 2.5rem 0 1.5rem 0;
            border-bottom: 1px solid #222;
        }
        .stats-container {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2.5rem;
            text-align: center;
        }
        .stat-item {
            color: var(--white);
            transition: transform 0.3s;
        }
        .stat-item:hover { transform: translateY(-5px); }
        .stat-number {
            font-size: 2.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.3rem;
        }
        .stat-label {
            font-size: 1rem;
            color: var(--gray);
            font-weight: 500;
        }
        .main-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        .filters-section {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            background: var(--cube);
            padding: 2rem 0 1.5rem 0;
            margin-bottom: 2.5rem;
            border-radius: 0;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            border-bottom: 2px solid var(--primary);
        }
        .filters-grid {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }
        .filter-group { display: flex; flex-direction: column; }
        .filter-label {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--primary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .filter-select, .filter-input {
            padding: 0.75rem;
            border: 1px solid #333;
            border-radius: 6px;
            font-size: 1rem;
            background: var(--bg-light);
            color: var(--white);
            transition: all 0.3s;
        }
        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255,102,0,0.08);
        }
        .search-section {
            max-width: 1100px;
            margin: 0 auto 2rem auto;
            display: flex;
            gap: 1rem;
        }
        .search-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #333;
            border-radius: 6px;
            font-size: 1rem;
            background: var(--bg-light);
            color: var(--white);
            transition: all 0.3s;
        }
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255,102,0,0.08);
        }
        .search-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: var(--white);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,102,0,0.15);
        }
        .workouts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        .workout-card {
            background: var(--cube);
            border: 1px solid #333;
            border-radius: 14px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.10);
        }
        .workout-card:hover {
            border-color: var(--primary);
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(255,102,0,0.10);
        }
        .workout-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            padding: 1.5rem;
            border-bottom: 1px solid #333;
        }
        .workout-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--white);
        }
        .workout-category {
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: 500;
        }
        .workout-body { padding: 1.5rem; }
        .workout-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: var(--gray);
        }
        .workout-description {
            color: var(--gray);
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        .workout-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .tag {
            background: var(--accent);
            color: var(--bg);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid #333;
            transition: all 0.3s;
        }
        .tag:hover {
            background: var(--primary);
            color: var(--white);
        }
        .workout-actions { display: flex; gap: 0.5rem; }
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: var(--white);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,102,0,0.15);
        }
        .btn-secondary {
            background: var(--cube);
            color: var(--white);
            border: 1px solid #333;
        }
        .btn-secondary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }
        .page-btn {
            padding: 0.75rem 1rem;
            border: 1px solid #333;
            background: var(--cube);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            color: var(--white);
        }
        .page-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
        }
        .page-btn.active {
            background: var(--accent);
            color: var(--bg);
            border-color: var(--accent);
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0,0,0,0.85);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .modal-content {
            background-color: var(--bg-light);
            margin: 2% auto;
            padding: 0;
            border-radius: 16px;
            width: 95%;
            max-width: 1400px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid #333;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: slideIn 0.3s ease;
            position: relative;
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .modal-header {
            background: #ff6600;
            color: white;
            padding: 2rem;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
        }
        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin: 0;
            letter-spacing: -0.01em;
        }
        .close {
            font-size: 2.5rem;
            cursor: pointer;
            color: white;
            line-height: 1;
            transition: all 0.3s ease;
            font-weight: 700;
            margin-left: 1.5rem;
        }
        .close:hover {
            color: var(--accent);
            transform: scale(1.1);
        }
        #modalContent {
            padding: 2rem;
        }
        @media (max-width: 900px) {
            .calendar-container { grid-template-columns: 1fr !important; }
            .calendar-grid { grid-template-columns: repeat(2, 1fr) !important; }
        }
        @media (max-width: 600px) {
            .calendar-grid { grid-template-columns: 1fr !important; }
            .modal-header { padding: 1rem; }
            .modal-title { font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <div class="fitprep-header" style="position:sticky;top:0;width:100%;background:linear-gradient(90deg,#1565c0 0%,#2196f3 100%);padding:1.1rem 0;z-index:1000;text-align:left;box-shadow:0 2px 10px rgba(33,150,243,0.08);">
        <a href="landing.html" class="fitprep-back-btn" style="color:#fff;font-weight:700;font-size:1.1rem;text-decoration:none;margin-left:2rem;transition:color 0.2s;">&larr; Back to FitPrep Home</a>
    </div>
    <div class="header">
        <h1>HIIT Training Database</h1>
        <p>50,000+ high-intensity interval workouts for maximum calorie burn, fitness, and metabolic conditioning</p>
    </div>
    <div class="stats-bar">
        <div class="stats-container">
            <div class="stat-item"><span class="stat-number">50,000+</span><span class="stat-label">Workouts</span></div>
            <div class="stat-item"><span class="stat-number">HIIT</span><span class="stat-label">Type</span></div>
            <div class="stat-item"><span class="stat-number">Intermediate+</span><span class="stat-label">Levels</span></div>
            <div class="stat-item"><span class="stat-number">7</span><span class="stat-label">Days/Week</span></div>
        </div>
    </div>
    <div class="main-container">
        <div class="filters-section">
            <div class="search-section">
                <input type="text" id="searchInput" class="search-input" placeholder="Search HIIT workouts...">
                <button onclick="searchWorkouts()" class="search-btn">Search</button>
            </div>
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Focus</label>
                    <select id="focusFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Focus Areas</option>
                        <option value="Fat Loss">Fat Loss</option>
                        <option value="Endurance">Endurance</option>
                        <option value="Power">Power</option>
                        <option value="Metabolic">Metabolic</option>
                        <option value="Cardio">Cardio</option>
                        <option value="Strength">Strength</option>
                        <option value="Athletic">Athletic</option>
                        <option value="Bodyweight">Bodyweight</option>
                        <option value="Equipment">Equipment</option>
                        <option value="Time Efficient">Time Efficient</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Level</label>
                    <select id="levelFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Levels</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Advanced">Advanced</option>
                        <option value="Elite">Elite</option>
                        <option value="Pro">Pro</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Duration</label>
                    <select id="durationFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Durations</option>
                        <option value="15-20 min">15-20 min</option>
                        <option value="20-30 min">20-30 min</option>
                        <option value="30-40 min">30-40 min</option>
                        <option value="40+ min">40+ min</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Equipment</label>
                    <select id="equipmentFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All</option>
                        <option value="Bodyweight">Bodyweight Only</option>
                        <option value="Dumbbells">Dumbbells</option>
                        <option value="Kettlebell">Kettlebell</option>
                        <option value="Barbell">Barbell</option>
                        <option value="Bands">Resistance Bands</option>
                        <option value="Medicine Ball">Medicine Ball</option>
                        <option value="TRX">TRX</option>
                        <option value="Rowing">Rowing Machine</option>
                        <option value="Bike">Bike</option>
                        <option value="Treadmill">Treadmill</option>
                    </select>
                </div>
            </div>
        </div>
        <div id="workoutsGrid" class="workouts-grid"></div>
        <div class="pagination" id="pagination"></div>
    </div>
    <!-- Modal -->
    <div id="workoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">HIIT Workout Plan</h2>
                <span class="close" onclick="closeModal()" tabindex="0" aria-label="Close">&times;</span>
            </div>
            <div id="modalContent">
                <!-- Modal content will be populated here -->
            </div>
        </div>
    </div>

    <script>
    // --- HIIT Batch Generator ---
    let allWorkouts = [];
    let filteredWorkouts = [];
    let totalGenerated = 0;
    const batchSize = 10;
    const maxWorkouts = 50000;

    // HIIT Exercise Library
    const hiitExercises = [
        'Burpees', 'Mountain Climbers', 'Jump Squats', 'High Knees', 'Push-ups', 'Plank Jacks', 'Tuck Jumps', 'Skater Hops',
        'Lateral Lunges', 'Broad Jumps', 'Plyo Lunges', 'Bear Crawls', 'Speed Skaters', 'Explosive Step-ups', 'V-Ups',
        'Bicycle Crunches', 'Russian Twists', 'Plank to Push-up', 'Alternating Side Plank', 'Reverse Lunge to Knee Drive',
        'Dumbbell Thrusters', 'Kettlebell Swings', 'Dumbbell Snatch', 'Kettlebell Goblet Squat', 'Medicine Ball Slams',
        'TRX Rows', 'TRX Atomic Push-ups', 'Barbell Push Press', 'Barbell Power Clean', 'Resistance Band Sprints',
        'Rowing Sprints', 'Assault Bike Sprints', 'Treadmill Sprints', 'Jump Rope Double Unders', 'Box Jumps',
        'Wall Balls', 'Battle Ropes Waves', 'Sled Push', 'Farmer Carry', 'Renegade Rows',
        'Sprint Intervals', 'Stair Runs', 'Agility Ladder Drills', 'Shadow Boxing', 'Jump Rope Sprints',
        'Rowing Machine Sprints', 'Bike Sprints', 'Treadmill Incline Sprints', 'SkiErg Sprints', 'VersaClimber Intervals'
    ];
    const hiitFocuses = ['Fat Loss', 'Endurance', 'Power', 'Metabolic', 'Cardio', 'Strength', 'Athletic', 'Bodyweight', 'Equipment', 'Time Efficient'];
    const hiitLevels = ['Intermediate', 'Advanced', 'Elite', 'Pro'];
    const hiitDurations = ['15-20 min', '20-30 min', '30-40 min', '40+ min'];
    const hiitEquipment = ['Bodyweight', 'Dumbbells', 'Kettlebell', 'Barbell', 'Bands', 'Medicine Ball', 'TRX', 'Rowing', 'Bike', 'Treadmill'];

    function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

    function generateBatch(batchCount = batchSize) {
        const newWorkouts = [];
        for (let i = 1; i <= batchCount && totalGenerated < maxWorkouts; i++) {
            const focus = getRandom(hiitFocuses);
            const level = getRandom(hiitLevels);
            const duration = getRandom(hiitDurations);
            const equipment = getRandom(hiitEquipment);
            const calories = getRandomInt(220, 650);
            const title = `${focus} HIIT - ${level} #${totalGenerated + 1}`;
            const description = `A ${level.toLowerCase()} HIIT routine focused on ${focus.toLowerCase()} using ${equipment.toLowerCase()} for ${duration}. Estimated calorie burn: ${calories} kcal.`;
            const weeklyPlan = generateWeeklyPlan(focus, level, duration, equipment);
            newWorkouts.push({
                id: totalGenerated + 1,
                title,
                focus,
                level,
                duration,
                equipment,
                calories,
                description,
                weeklyPlan
            });
            totalGenerated++;
        }
        allWorkouts = allWorkouts.concat(newWorkouts);
        filteredWorkouts = allWorkouts;
    }

    function generateWeeklyPlan(focus, level, duration, equipment) {
        const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
        return days.map((day, idx) => {
            if (idx === 2 || idx === 5) {
                return {
                    day,
                    type: 'rest',
                    description: 'Active recovery, stretching, or light cardio.'
                };
            } else {
                return {
                    day,
                    type: 'workout',
                    description: `${focus} HIIT session (${equipment})`,
                    exercises: generateHIITSession(level, duration, equipment)
                };
            }
        });
    }

    function generateHIITSession(level, duration, equipment) {
        const exCount = getRandomInt(4, 6);
        const roundCount = level === 'Intermediate' ? getRandomInt(3, 4) : level === 'Advanced' ? getRandomInt(4, 5) : getRandomInt(5, 6);
        const workTime = getRandomInt(30, 60);
        const restTime = getRandomInt(15, 30);
        let pool = hiitExercises;
        let used = [];
        for (let i = 0; i < exCount; i++) {
            let ex;
            do { ex = getRandom(pool); } while (used.includes(ex));
            used.push(ex);
        }
        return used.map(name => ({
            name,
            work: workTime,
            rest: restTime,
            rounds: roundCount,
            description: `${name} for ${workTime}s, rest ${restTime}s, repeat for ${roundCount} rounds.`
        }));
    }

    function displayError(msg) {
        const grid = document.getElementById('workoutsGrid');
        grid.innerHTML = `<div style='color:#ff6600; background:#232323; padding:2rem; border-radius:8px; font-size:1.2rem; text-align:center;'>${msg}</div>`;
    }

    function displayWorkouts() {
        try {
            const grid = document.getElementById('workoutsGrid');
            if (!filteredWorkouts.length) {
                grid.innerHTML = '<div style="color:#ff6600; padding:2rem; text-align:center;">No HIIT workouts found. Try loading more or changing filters.</div>';
                return;
            }
            grid.innerHTML = filteredWorkouts.map(workout => `
                <div class="workout-card" onclick="openWorkoutModal(${workout.id})">
                    <div class="workout-header">
                        <div class="workout-title">${workout.title}</div>
                        <div class="workout-category">${workout.focus}</div>
                    </div>
                    <div class="workout-body">
                        <div class="workout-stats">
                            <span>Level: ${workout.level}</span>
                            <span>Duration: ${workout.duration}</span>
                            <span>Calories: ${workout.calories}</span>
                        </div>
                        <div class="workout-description">${workout.description}</div>
                        <div class="workout-tags">
                            <span class="tag">${workout.equipment}</span>
                            <span class="tag">${workout.focus}</span>
                            <span class="tag">${workout.level}</span>
                            <span class="tag">${workout.duration}</span>
                        </div>
                        <div class="workout-actions">
                            <button class="btn btn-primary">View Plan</button>
                            <button class="btn btn-secondary" onclick="event.stopPropagation(); downloadWorkout(${workout.id})">Download</button>
                        </div>
                    </div>
                </div>
            `).join('');
        } catch (e) {
            displayError('Error displaying workouts: ' + e.message);
        }
    }

    function loadMoreWorkouts() {
        try {
            generateBatch(batchSize);
            displayWorkouts();
            updateLoadMoreButton();
        } catch (e) {
            displayError('Error loading more workouts: ' + e.message);
        }
    }

    function updateLoadMoreButton() {
        const btn = document.getElementById('loadMoreBtn');
        if (!btn) return;
        if (totalGenerated >= maxWorkouts) {
            btn.style.display = 'none';
        } else {
            btn.style.display = 'block';
        }
    }

    function filterWorkouts() {
        try {
            const focusFilter = document.getElementById('focusFilter').value;
            const levelFilter = document.getElementById('levelFilter').value;
            const durationFilter = document.getElementById('durationFilter').value;
            const equipmentFilter = document.getElementById('equipmentFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            filteredWorkouts = allWorkouts.filter(w => {
                const matchesFocus = !focusFilter || w.focus === focusFilter;
                const matchesLevel = !levelFilter || w.level === levelFilter;
                const matchesDuration = !durationFilter || w.duration === durationFilter;
                const matchesEquipment = !equipmentFilter || w.equipment === equipmentFilter;
                const matchesSearch = !searchTerm || w.title.toLowerCase().includes(searchTerm) || w.description.toLowerCase().includes(searchTerm) || w.focus.toLowerCase().includes(searchTerm);
                return matchesFocus && matchesLevel && matchesDuration && matchesEquipment && matchesSearch;
            });
            displayWorkouts();
            updateLoadMoreButton();
        } catch (e) {
            displayError('Error filtering workouts: ' + e.message);
        }
    }
    function searchWorkouts() { filterWorkouts(); }

    // Modal
    function openWorkoutModal(workoutId) {
        const workout = allWorkouts.find(w => w.id === workoutId);
        if (!workout) return;
        document.getElementById('modalTitle').textContent = workout.title;
        const modalContent = document.getElementById('modalContent');
        modalContent.innerHTML = `
            <div class="calendar-container" style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem; margin-bottom: 2rem; min-height: 500px;">
                <div class="workout-overview" style="background: #232323; padding: 2rem; border-radius: 12px; border: 1px solid #333; height: fit-content;">
                    <h3 style="color: var(--primary);">Workout Overview</h3>
                    <div class="overview-item"><strong>Focus:</strong> ${workout.focus}</div>
                    <div class="overview-item"><strong>Level:</strong> ${workout.level}</div>
                    <div class="overview-item"><strong>Duration:</strong> ${workout.duration}</div>
                    <div class="overview-item"><strong>Equipment:</strong> ${workout.equipment}</div>
                    <div class="overview-item"><strong>Calories:</strong> ${workout.calories} kcal</div>
                </div>
                <div class="calendar-grid" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 1rem; height: 100%;">
                    ${workout.weeklyPlan.map(day => `
                        <div class="calendar-day ${day.type}" style="background: #232323; border: 2px solid #333; border-radius: 12px; padding: 1rem; min-height: 140px; transition: all 0.3s; cursor: pointer; display: flex; flex-direction: column; justify-content: flex-start; overflow: hidden; position: relative; border-left: 4px solid ${day.type === 'workout' ? 'var(--primary)' : '#6c757d'};">
                            <div class="day-header" style="font-weight: 600; color: var(--white); margin-bottom: 0.5rem; font-size: 0.9rem; text-align: center; padding-bottom: 0.5rem; border-bottom: 1px solid #333;">${day.day}</div>
                            <div class="day-type" style="font-size: 0.75rem; color: var(--primary); margin-bottom: 0.75rem; text-align: center; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">${day.type === 'workout' ? 'HIIT' : 'Rest'}</div>
                            <div class="day-exercises" style="font-size: 0.7rem; color: var(--gray); overflow: hidden; flex: 1; display: flex; flex-direction: column; gap: 0.4rem;">
                                ${day.type === 'workout' && day.exercises ? 
                                    day.exercises.slice(0, 3).map(exercise => `
                                        <div class="exercise-item" style="background: #232323; padding: 0.5rem 0.6rem; margin: 0; border-radius: 6px; border-left: 3px solid var(--primary); font-size: 0.65rem; line-height: 1.3; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                            <strong style="font-size: 0.7rem; display: block; margin-bottom: 0.2rem; color: var(--white);">${exercise.name}</strong>
                                            ${exercise.work}s work • ${exercise.rest}s rest • ${exercise.rounds} rounds
                                        </div>
                                    `).join('') : 
                                    `<div class="rest-day-text" style="background: #232323; color: #6c757d; padding: 0.6rem; border-radius: 6px; font-size: 0.65rem; text-align: center; font-style: italic; border-left: 3px solid #6c757d; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">Active Recovery<br>Light stretching & mobility</div>`
                                }
                                ${day.type === 'workout' && day.exercises && day.exercises.length > 3 ? 
                                    `<div class="exercise-item more-exercises" style="background: var(--accent); color: var(--bg); font-style: italic; text-align: center; border-left: 3px solid var(--primary); font-weight: 500;">+${day.exercises.length - 3} more exercises</div>` : ''
                                }
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
            <div class="workout-details" style="background: #232323; border-radius: 12px; padding: 2rem; margin-top: 2rem; border: 1px solid #333;">
                <h3 style="color: var(--primary); margin-bottom: 1.5rem; font-size: 1.5rem;">Complete Workout Information</h3>
                <div class="detail-section">
                    <h4 style="color: var(--accent); margin-bottom: 1rem; font-size: 1.2rem;">HIIT Structure</h4>
                    <div class="detail-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Intervals</strong>
                            <span>${workout.weeklyPlan[0].exercises ? workout.weeklyPlan[0].exercises.length : 0} unique exercises per session</span>
                        </div>
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Rounds</strong>
                            <span>${workout.weeklyPlan[0].exercises ? workout.weeklyPlan[0].exercises[0].rounds : 0} rounds per exercise</span>
                        </div>
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Work/Rest</strong>
                            <span>${workout.weeklyPlan[0].exercises ? workout.weeklyPlan[0].exercises[0].work : 0}s work / ${workout.weeklyPlan[0].exercises ? workout.weeklyPlan[0].exercises[0].rest : 0}s rest</span>
                        </div>
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Calories</strong>
                            <span>${workout.calories} kcal per session</span>
                        </div>
                    </div>
                </div>
                <div class="detail-section">
                    <h4 style="color: var(--accent); margin-bottom: 1rem; font-size: 1.2rem;">Equipment & Safety</h4>
                    <div class="detail-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Required Equipment</strong>
                            <span>${workout.equipment}</span>
                        </div>
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Safety</strong>
                            <span>Warm up 5-10 min, use proper form, stop if dizzy or in pain, hydrate well.</span>
                        </div>
                        <div class="detail-item" style="background: #181818; padding: 1rem; border-radius: 8px; border-left: 3px solid var(--primary);">
                            <strong style="color: var(--primary); display: block; margin-bottom: 0.5rem;">Progression</strong>
                            <span>Increase work time or rounds every 2-4 weeks for continued results.</span>
                        </div>
                    </div>
                </div>
                <div class="detail-section">
                    <h4 style="color: var(--accent); margin-bottom: 1rem; font-size: 1.2rem;">Weekly Exercise Breakdown</h4>
                    ${workout.weeklyPlan.map((day, index) => `
                        <div class="exercise-detail" style="background: #181818; padding: 1.5rem; margin: 1rem 0; border-radius: 12px; border-left: 4px solid ${day.type === 'workout' ? 'var(--primary)' : '#6c757d'};">
                            <h5 style="color: var(--primary); margin-bottom: 1rem; font-size: 1.1rem;">${day.day} - ${day.type === 'workout' ? 'HIIT Session' : 'Recovery Day'}</h5>
                            <p><strong>Focus:</strong> ${day.description}</p>
                            ${day.type === 'workout' && day.exercises ? `
                                <div class="exercise-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Total Time</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">${day.exercises.reduce((total, ex) => total + ex.work * ex.rounds / 60, 0).toFixed(1)} min</span>
                                    </div>
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Exercises</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">${day.exercises.length}</span>
                                    </div>
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Rounds</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">${day.exercises[0]?.rounds || 0}</span>
                                    </div>
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Work/Rest</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">${day.exercises[0]?.work || 0}s / ${day.exercises[0]?.rest || 0}s</span>
                                    </div>
                                </div>
                                <div style="margin-top: 1rem;">
                                    <strong style="color: var(--primary);">Exercise Sequence:</strong>
                                    <ol style="margin-top: 0.5rem; padding-left: 1.5rem; color: var(--gray);">
                                        ${day.exercises.map((exercise, exIndex) => `
                                            <li style="margin-bottom: 0.5rem;">
                                                <strong style="color: var(--white);">${exercise.name}</strong><br>
                                                <span style="font-size: 0.9rem; color: var(--gray);">
                                                    ${exercise.work}s work • ${exercise.rest}s rest • ${exercise.rounds} rounds
                                                </span><br>
                                                <span style="font-size: 0.85rem; color: #888; font-style: italic;">
                                                    ${exercise.description}
                                                </span>
                                            </li>
                                        `).join('')}
                                    </ol>
                                </div>
                            ` : `
                                <div class="exercise-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Recovery Type</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">Active Rest</span>
                                    </div>
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Duration</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">20-30 min</span>
                                    </div>
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Intensity</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">Very Low</span>
                                    </div>
                                    <div class="exercise-stat" style="background: #232323; padding: 0.75rem; border-radius: 6px; text-align: center;">
                                        <strong style="color: var(--primary); display: block; font-size: 0.9rem;">Calories</strong>
                                        <span style="color: var(--gray); font-size: 0.8rem;">~50 kcal</span>
                                    </div>
                                </div>
                                <p style="margin-top: 1rem; color: var(--gray);"><strong style="color: var(--primary);">Recovery Activities:</strong> Light stretching, walking, yoga, or complete rest</p>
                            `}
                        </div>
                    `).join('')}
                </div>
                <div class="download-options" style="display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: center;">
                    <button class="btn btn-primary" onclick="downloadWorkout(${workout.id})">Download Complete Plan</button>
                </div>
            </div>
        `;
        document.getElementById('workoutModal').style.display = 'block';
    }
    function closeModal() {
        document.getElementById('workoutModal').style.display = 'none';
    }
    function downloadWorkout(workoutId) {
        const workout = allWorkouts.find(w => w.id === workoutId);
        if (!workout) return;
        const content = `
HIIT Workout Plan
=================

Title: ${workout.title}
Focus: ${workout.focus}
Level: ${workout.level}
Duration: ${workout.duration}
Equipment: ${workout.equipment}
Calories: ${workout.calories}

Description: ${workout.description}

7-DAY WEEKLY PLAN
=================
${workout.weeklyPlan.map(day => `
${day.day.toUpperCase()}
Type: ${day.type === 'workout' ? 'HIIT Session' : 'Rest Day'}
Description: ${day.description}
${day.type === 'workout' && day.exercises ? `
Exercises:
${day.exercises.map(exercise => `- ${exercise.name}: ${exercise.work}s work, ${exercise.rest}s rest, ${exercise.rounds} rounds`).join('\n')}
` : ''}
`).join('\n')}

Notes:
- Always warm up before starting your HIIT session
- Stay hydrated throughout your workout
- Listen to your body and adjust intensity as needed
- Consult with a healthcare provider before starting any new exercise program
        `;
        const blob = new Blob([content], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `${workout.title.replace(/\s+/g, '_')}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }
    window.onclick = function(event) {
        const modal = document.getElementById('workoutModal');
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    }
    window.onload = function() {
        try {
            generateBatch(batchSize);
            displayWorkouts();
            updateLoadMoreButton();
            if (!document.getElementById('loadMoreBtn')) {
                const btn = document.createElement('button');
                btn.id = 'loadMoreBtn';
                btn.className = 'btn btn-primary';
                btn.style.display = 'block';
                btn.style.margin = '2rem auto';
                btn.style.fontSize = '1.1rem';
                btn.innerText = 'Load More Workouts';
                btn.onclick = loadMoreWorkouts;
                document.querySelector('.main-container').appendChild(btn);
            }
        } catch (e) {
            displayError('Error initializing HIIT workouts: ' + e.message);
        }
    }
    </script>
</body>
</html> 