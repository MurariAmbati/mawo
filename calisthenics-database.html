<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAWO - Calisthenics & Bodyweight Database | 75,000+ Skill Mastery Workouts</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #0a2342;
            --accent: #2196f3;
            --accent2: #1565c0;
            --bg: #f4f8fb;
            --white: #fff;
            --gray: #888;
            --steel: #e0e7ef;
            --text: #111;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }
        .header {
            background: var(--primary);
            padding: 4rem 0 2rem 0;
            text-align: center;
            color: var(--white);
        }
        .header h1 {
            font-size: 3.2rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
        }
        .header p {
            font-size: 1.3rem;
            color: var(--accent);
            font-weight: 400;
        }
        .stats-bar {
            background: var(--steel);
            padding: 2.5rem 0 1.5rem 0;
            border-bottom: 1px solid var(--primary);
        }
        .stats-container {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2.5rem;
            text-align: center;
        }
        .stat-item {
            color: var(--primary);
            transition: transform 0.3s;
        }
        .stat-item:hover { transform: translateY(-5px); }
        .stat-number {
            font-size: 2.3rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.3rem;
        }
        .stat-label {
            font-size: 1rem;
            color: var(--gray);
            font-weight: 500;
        }
        .main-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        .filters-section {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            background: var(--primary);
            padding: 2rem 0 1.5rem 0;
            margin-bottom: 2.5rem;
            border-radius: 0;
            box-shadow: 0 2px 12px rgba(10,35,66,0.08);
            border-bottom: 2px solid var(--accent);
        }
        .filters-grid {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }
        .filter-group { display: flex; flex-direction: column; }
        .filter-label {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--accent);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .filter-select, .filter-input {
            padding: 0.75rem;
            border: 1px solid var(--accent);
            border-radius: 6px;
            font-size: 1rem;
            background: var(--white);
            color: var(--primary);
            transition: all 0.3s;
        }
        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: var(--accent2);
            box-shadow: 0 0 0 3px rgba(33,150,243,0.08);
        }
        .search-section {
            max-width: 1100px;
            margin: 0 auto 2rem auto;
            display: flex;
            gap: 1rem;
        }
        .search-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--accent);
            border-radius: 6px;
            font-size: 1rem;
            background: var(--white);
            color: var(--primary);
            transition: all 0.3s;
        }
        .search-input:focus {
            outline: none;
            border-color: var(--accent2);
            box-shadow: 0 0 0 3px rgba(33,150,243,0.08);
        }
        .search-btn {
            padding: 0.75rem 1.5rem;
            background: var(--accent);
            color: var(--white);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33,150,243,0.15);
        }
        .workouts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        .workout-card {
            background: var(--white);
            border: 2px solid var(--accent);
            border-radius: 14px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(33,150,243,0.10);
        }
        .workout-card:hover {
            border-color: var(--accent2);
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(33,150,243,0.10);
        }
        .workout-header {
            background: var(--accent);
            padding: 1.5rem;
            border-bottom: 1px solid var(--accent2);
        }
        .workout-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }
        .workout-category {
            font-size: 0.9rem;
            color: var(--accent2);
            font-weight: 500;
        }
        .workout-body { padding: 1.5rem; }
        .workout-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: var(--accent2);
        }
        .workout-description {
            color: var(--gray);
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        .workout-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .tag {
            background: var(--accent2);
            color: var(--white);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid var(--accent2);
            transition: all 0.3s;
        }
        .tag:hover {
            background: var(--accent);
            color: var(--white);
        }
        .workout-actions { display: flex; gap: 0.5rem; }
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .btn-primary {
            background: var(--accent2);
            color: var(--white);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(21,101,192,0.15);
        }
        .btn-secondary {
            background: var(--white);
            color: var(--primary);
            border: 1px solid var(--accent2);
        }
        .btn-secondary:hover {
            background: var(--accent2);
            color: var(--white);
            transform: translateY(-2px);
        }
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }
        .page-btn {
            padding: 0.75rem 1rem;
            border: 1px solid var(--accent2);
            background: var(--white);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            color: var(--primary);
        }
        .page-btn:hover {
            background: var(--accent2);
            color: var(--white);
            transform: translateY(-2px);
        }
        .page-btn.active {
            background: var(--accent2);
            color: var(--white);
            border-color: var(--accent2);
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(10,35,66,0.85);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .modal-content {
            background-color: var(--white);
            margin: 2% auto;
            padding: 0;
            border-radius: 16px;
            width: 95%;
            max-width: 1400px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--accent2);
            box-shadow: 0 20px 60px rgba(10,35,66,0.2);
            animation: slideIn 0.3s ease;
            position: relative;
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .modal-header {
            background: var(--accent2);
            color: var(--white);
            padding: 2rem;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--accent2);
        }
        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--white);
            margin: 0;
            letter-spacing: -0.01em;
        }
        .close {
            font-size: 2.5rem;
            cursor: pointer;
            color: var(--white);
            line-height: 1;
            transition: all 0.3s ease;
            font-weight: 700;
            margin-left: 1.5rem;
        }
        .close:hover {
            color: var(--accent);
            transform: scale(1.1);
        }
        #modalContent {
            padding: 2rem;
        }
        @media (max-width: 900px) {
            .calendar-container { grid-template-columns: 1fr !important; }
            .calendar-grid { grid-template-columns: repeat(2, 1fr) !important; }
        }
        @media (max-width: 600px) {
            .calendar-grid { grid-template-columns: 1fr !important; }
            .modal-header { padding: 1rem; }
            .modal-title { font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <div class="fitprep-header" style="position:sticky;top:0;width:100%;background:linear-gradient(90deg,#1565c0 0%,#2196f3 100%);padding:1.1rem 0;z-index:1000;text-align:left;box-shadow:0 2px 10px rgba(33,150,243,0.08);">
        <a href="landing.html" class="fitprep-back-btn" style="color:#fff;font-weight:700;font-size:1.1rem;text-decoration:none;margin-left:2rem;transition:color 0.2s;">&larr; Back to FitPrep Home</a>
    </div>
    <div class="header">
        <h1>Calisthenics & Bodyweight Database</h1>
        <p>75,000+ skill mastery routines for every level and every calisthenics goal</p>
    </div>
    <div class="stats-bar">
        <div class="stats-container">
            <div class="stat-item"><span class="stat-number">75,000+</span><span class="stat-label">Workouts</span></div>
            <div class="stat-item"><span class="stat-number">7</span><span class="stat-label">Days/Week</span></div>
        </div>
    </div>
    <div class="main-container">
        <div class="filters-section">
            <div class="search-section">
                <input type="text" id="searchInput" class="search-input" placeholder="Search calisthenics workouts...">
                <button onclick="searchWorkouts()" class="search-btn">Search</button>
            </div>
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Skill</label>
                    <select id="skillFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Skills</option>
                        <option value="Push-up">Push-up Progressions</option>
                        <option value="Pull-up">Pull-up Ladders</option>
                        <option value="Dips">Dips</option>
                        <option value="Squats">Squats</option>
                        <option value="Planche">Planche</option>
                        <option value="Front Lever">Front Lever</option>
                        <option value="Back Lever">Back Lever</option>
                        <option value="Handstand">Handstand</option>
                        <option value="Muscle-up">Muscle-up</option>
                        <option value="Human Flag">Human Flag</option>
                        <option value="Bar Brother">Bar Brother Challenge</option>
                        <option value="Static Hold">Static Hold</option>
                        <option value="Freestyle">Freestyle</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Level</label>
                    <select id="levelFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Levels</option>
                        <option value="Beginner">Beginner</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Advanced">Advanced</option>
                        <option value="Elite">Elite</option>
                        <option value="Pro">Pro</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Duration</label>
                    <select id="durationFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Durations</option>
                        <option value="15-20 min">15-20 min</option>
                        <option value="20-30 min">20-30 min</option>
                        <option value="30-40 min">30-40 min</option>
                        <option value="40+ min">40+ min</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Equipment</label>
                    <select id="equipmentFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All</option>
                        <option value="None">None</option>
                        <option value="Pull-up Bar">Pull-up Bar</option>
                        <option value="Dip Bars">Dip Bars</option>
                        <option value="Rings">Rings</option>
                        <option value="Parallettes">Parallettes</option>
                        <option value="Wall">Wall</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Location</label>
                    <select id="locationFilter" class="filter-select" onchange="filterWorkouts()">
                        <option value="">All Locations</option>
                        <option value="Home">Home</option>
                        <option value="Gym">Gym</option>
                        <option value="Park">Park</option>
                        <option value="Street">Street</option>
                    </select>
                </div>
            </div>
        </div>
        <div id="workoutsGrid" class="workouts-grid"></div>
        <div class="pagination" id="pagination"></div>
    </div>
    <!-- Modal, calendar, and JS logic will be added next -->
    <div id="workoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Workout Plan</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalContent"></div>
        </div>
    </div>
    <script>
        let allWorkouts = [];
        let filteredWorkouts = [];
        let currentPage = 1;
        const workoutsPerPage = 12;
        const totalWorkouts = 75000;
        // Helper data
        const skills = [
            'Push-up Progression', 'Pull-up Ladder', 'Dips', 'Squats', 'Planche', 'Front Lever', 'Back Lever', 'Handstand', 'Muscle-up', 'Human Flag', 'Bar Brother Challenge', 'Static Hold', 'Freestyle'
        ];
        const levels = ['Beginner', 'Intermediate', 'Advanced', 'Elite', 'Pro'];
        const durations = ['15-20 min', '20-30 min', '30-40 min', '40+ min'];
        const equipmentList = ['None', 'Pull-up Bar', 'Dip Bars', 'Rings', 'Parallettes', 'Wall', 'Other'];
        const locations = ['Home', 'Gym', 'Park', 'Street'];
        // Skill-specific progressions
        const skillProgressions = {
            'Push-up Progression': ['Knee Push-ups', 'Incline Push-ups', 'Standard Push-ups', 'Decline Push-ups', 'Archer Push-ups', 'Pseudo Planche Push-ups', 'One-arm Push-ups'],
            'Pull-up Ladder': ['Dead Hang', 'Scapular Pulls', 'Australian Pull-ups', 'Chin-ups', 'Pull-ups', 'Archer Pull-ups', 'One-arm Pull-ups'],
            'Dips': ['Bench Dips', 'Parallel Bar Dips', 'Straight Bar Dips', 'Ring Dips', 'Korean Dips', 'Russian Dips'],
            'Squats': ['Bodyweight Squats', 'Jump Squats', 'Pistol Squats', 'Shrimp Squats', 'Cossack Squats', 'Sissy Squats'],
            'Planche': ['Planche Leans', 'Tuck Planche', 'Advanced Tuck', 'Straddle Planche', 'Full Planche'],
            'Front Lever': ['Tuck Front Lever', 'Advanced Tuck', 'Straddle Front Lever', 'Full Front Lever'],
            'Back Lever': ['Skin the Cat', 'Tuck Back Lever', 'Advanced Tuck', 'Straddle Back Lever', 'Full Back Lever'],
            'Handstand': ['Wall Handstand', 'Handstand Hold', 'Handstand Push-up', 'Freestanding Handstand', 'Handstand Walk'],
            'Muscle-up': ['Pull-ups', 'Explosive Pull-ups', 'Transition Drills', 'Bar Muscle-up', 'Ring Muscle-up'],
            'Human Flag': ['Vertical Hold', 'Tuck Flag', 'Straddle Flag', 'Full Human Flag'],
            'Bar Brother Challenge': ['Push-ups', 'Pull-ups', 'Dips', 'Muscle-ups', 'Freestyle Combo'],
            'Static Hold': ['L-sit', 'V-sit', 'Planche Hold', 'Front Lever Hold', 'Back Lever Hold', 'Elbow Lever'],
            'Freestyle': ['360 Spin', 'Swing to Handstand', 'Giant Swing', 'Freestyle Combo', 'Switch Grip', 'Release Moves']
        };
        // Generate a single workout
        function generateWorkout(id) {
            const skill = skills[Math.floor(Math.random() * skills.length)];
            const level = levels[Math.floor(Math.random() * levels.length)];
            const duration = durations[Math.floor(Math.random() * durations.length)];
            const equipment = equipmentList[Math.floor(Math.random() * equipmentList.length)];
            const location = locations[Math.floor(Math.random() * locations.length)];
            const calories = 80 + Math.floor(Math.random() * 180);
            const rating = 1 + Math.floor(Math.random() * 5);
            const title = `${skill} ${level} #${id}`;
            const description = `A ${duration} ${skill.toLowerCase()} routine for ${level.toLowerCase()}s. Focuses on ${skill.toLowerCase()} mastery. Equipment: ${equipment}. Location: ${location}.`;
            // Pick 4-7 progressions
            let exLib = skillProgressions[skill] || ['Push-ups', 'Pull-ups', 'Squats', 'Dips'];
            let exercises = [];
            for (let i = 0; i < 4 + Math.floor(Math.random() * 4); i++) {
                const exName = exLib[i % exLib.length];
                exercises.push({
                    name: exName,
                    sets: 2 + Math.floor(Math.random() * 3),
                    reps: 5 + Math.floor(Math.random() * 10),
                    duration: 2 + Math.floor(Math.random() * 4),
                    description: `${exName} for skill progression and strength.`
                });
            }
            // Weekly plan: 7 days, 5 workout, 2 rest
            const days = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];
            let weeklyPlan = days.map((day, idx) => {
                if (idx === 2 || idx === 5) {
                    return { day, type: 'rest', description: 'Active recovery, stretching, or mobility.' };
                } else {
                    return { day, type: 'workout', description: `${skill} session`, exercises };
                }
            });
            return {
                id, title, skill, level, duration, equipment, location, calories, description, weeklyPlan, rating
            };
        }
        // Generate all workouts (in batches for performance)
        function generateWorkouts(batch = 0, batchSize = 1000) {
            const start = batch * batchSize + 1;
            const end = Math.min(start + batchSize - 1, totalWorkouts);
            for (let i = start; i <= end; i++) {
                allWorkouts.push(generateWorkout(i));
            }
            if (end < totalWorkouts) {
                setTimeout(() => generateWorkouts(batch + 1, batchSize), 0);
            } else {
                filteredWorkouts = allWorkouts;
                displayWorkouts();
                displayPagination();
            }
        }
        // Filtering
        function filterWorkouts() {
            const skillFilter = document.getElementById('skillFilter').value;
            const levelFilter = document.getElementById('levelFilter').value;
            const durationFilter = document.getElementById('durationFilter').value;
            const equipmentFilter = document.getElementById('equipmentFilter').value;
            const locationFilter = document.getElementById('locationFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            filteredWorkouts = allWorkouts.filter(w => {
                const matchesSkill = !skillFilter || w.skill.includes(skillFilter);
                const matchesLevel = !levelFilter || w.level === levelFilter;
                const matchesDuration = !durationFilter || w.duration === durationFilter;
                const matchesEquipment = !equipmentFilter || w.equipment === equipmentFilter;
                const matchesLocation = !locationFilter || w.location === locationFilter;
                const matchesSearch = !searchTerm || w.title.toLowerCase().includes(searchTerm) || w.description.toLowerCase().includes(searchTerm);
                return matchesSkill && matchesLevel && matchesDuration && matchesEquipment && matchesLocation && matchesSearch;
            });
            currentPage = 1;
            displayWorkouts();
            displayPagination();
        }
        function searchWorkouts() { filterWorkouts(); }
        // Display workouts
        function displayWorkouts() {
            const grid = document.getElementById('workoutsGrid');
            const startIndex = (currentPage - 1) * workoutsPerPage;
            const endIndex = startIndex + workoutsPerPage;
            const pageWorkouts = filteredWorkouts.slice(startIndex, endIndex);
            if (pageWorkouts.length === 0) {
                grid.innerHTML = '<div style="text-align:center;color:#2196f3;font-size:1.2rem;">No workouts found. Try adjusting filters.</div>';
                return;
            }
            grid.innerHTML = pageWorkouts.map(w => `
                <div class="workout-card" onclick="openWorkoutModal(${w.id})">
                    <div class="workout-header">
                        <div class="workout-title" style="color:#fff;">${w.title}</div>
                        <div class="workout-category">${w.skill}</div>
                    </div>
                    <div class="workout-body">
                        <div class="workout-stats">
                            <span>Duration: ${w.duration}</span>
                            <span>Calories: ${w.calories}</span>
                        </div>
                        <div class="workout-description">${w.description}</div>
                        <div class="workout-tags">
                            <span class="tag">${w.equipment}</span>
                            <span class="tag">${w.skill}</span>
                            <span class="tag">${w.location}</span>
                        </div>
                        <div class="workout-actions">
                            <button class="btn btn-primary" style="background:#fff;color:#1565c0;">Browse Plan</button>
                            <button class="btn btn-secondary" onclick="event.stopPropagation(); downloadWorkout(${w.id})">Download</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        // Pagination
        function displayPagination() {
            const totalPages = Math.ceil(filteredWorkouts.length / workoutsPerPage);
            const pagination = document.getElementById('pagination');
            if (totalPages <= 1) { pagination.innerHTML = ''; return; }
            let paginationHTML = '';
            if (currentPage > 1) {
                paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage - 1})">Previous</button>`;
            }
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>`;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += `<span>...</span>`;
                }
            }
            if (currentPage < totalPages) {
                paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage + 1})">Next</button>`;
            }
            pagination.innerHTML = paginationHTML;
        }
        function changePage(page) {
            currentPage = page;
            displayWorkouts();
            displayPagination();
        }
        // Modal
        function openWorkoutModal(workoutId) {
            const w = allWorkouts.find(x => x.id === workoutId);
            if (!w) return;
            document.getElementById('modalTitle').textContent = w.title;
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div class="calendar-container" style="display: flex; flex-direction: column; gap: 2rem;">
                    <div class="workout-overview" style="background: #fff; border-radius: 18px; box-shadow: 0 4px 18px rgba(0,0,0,0.07); padding: 2rem; border: 1.5px solid #e0e7ef; margin-bottom: 1.5rem;">
                        <h3 style="color: #1565c0; margin-bottom: 1.2rem;">Workout Overview</h3>
                        <div class="overview-item"><strong>Skill:</strong> ${w.skill}</div>
                        <div class="overview-item"><strong>Duration:</strong> ${w.duration}</div>
                        <div class="overview-item"><strong>Equipment:</strong> ${w.equipment}</div>
                        <div class="overview-item"><strong>Location:</strong> ${w.location}</div>
                        <div class="overview-item"><strong>Calories:</strong> ${w.calories}</div>
                        <div class="overview-item"><strong>Description:</strong> ${w.description}</div>
                    </div>
                    <div class="calendar-grid" style="display:grid;grid-template-columns:repeat(7,1fr);gap:1rem;margin-bottom:2rem;">
                        ${w.weeklyPlan.map(day => `
                            <div class="calendar-day ${day.type}" style="background:#fff;border:2px solid #111;border-radius:14px;padding:1rem;min-height:120px;transition:all 0.3s;cursor:pointer;display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;position:relative;box-shadow:0 2px 8px rgba(0,0,0,0.06);" onclick="showDayDetails('${day.day}', ${w.id})">
                                <div class="day-header" style="font-weight:600;color:#1565c0;margin-bottom:0.5rem;font-size:0.9rem;text-align:center;">${day.day}</div>
                                <div class="day-type" style="font-size:0.75rem;color:#111;margin-bottom:0.75rem;text-align:center;font-weight:500;text-transform:uppercase;">${day.type === 'workout' ? 'Practice' : 'Rest'}</div>
                                <div class="day-exercises" style="font-size:0.7rem;color:#888;overflow:hidden;flex:1;display:flex;flex-direction:column;gap:0.4rem;">
                                    ${day.type === 'workout' && day.exercises ? 
                                        day.exercises.slice(0, 3).map(exercise => `
                                            <div class="exercise-item" style="background: #f7fafd; border-radius: 8px; border-left: 3px solid #1565c0; margin-bottom: 0.2rem; padding: 0.4rem 0.6rem;">
                                                <strong style="color: #1565c0;">${exercise.name}</strong> ${exercise.duration} min • ${exercise.sets} sets • ${exercise.reps} reps
                                            </div>
                                        `).join('') : 
                                        `<div class="rest-day-text" style="background: #f4f8fb; color: #1565c0; border-radius: 8px; font-style: italic; text-align: center; border-left: 3px solid #1565c0; padding: 0.6rem;">Active Recovery<br>Mobility, stretching, or rest</div>`
                                    }
                                    ${day.type === 'workout' && day.exercises && day.exercises.length > 3 ? 
                                        `<div class="exercise-item more-exercises" style="background: #f4f8fb; color: #1565c0; font-style: italic; text-align: center; border-left: 3px solid #1565c0; font-weight: 500;">+${day.exercises.length - 3} more</div>` : ''
                                    }
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="workout-details" style="background: #fff; border-radius: 18px; box-shadow: 0 4px 18px rgba(0,0,0,0.07); padding: 2rem; border: 1.5px solid #e0e7ef; margin-bottom: 1.5rem;">
                    <h3 style="color: #1565c0; margin-bottom: 1.2rem;">Complete Workout Information</h3>
                    <div class="detail-section" style="margin-bottom: 2rem;">
                        <h4 style="color: #2196f3; margin-bottom: 1rem;">Equipment & Setup</h4>
                        <div class="detail-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Required Equipment:</strong><span>${w.equipment}</span></div>
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Space Requirements:</strong><span>Open area, safe for calisthenics</span></div>
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Environment:</strong><span>${w.location === 'Park' || w.location === 'Street' ? 'Check weather, avoid wet/slippery surfaces' : 'Indoor/covered area recommended'}</span></div>
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Safety Considerations:</strong><span>Mat, chalk, spotter if needed</span></div>
                        </div>
                    </div>
                    <div class="detail-section" style="margin-bottom: 2rem;">
                        <h4 style="color: #2196f3; margin-bottom: 1rem;">Preparation & Recovery</h4>
                        <div class="detail-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Pre-Workout (10-15 min):</strong><span>Dynamic warm-up, joint mobility, light cardio</span></div>
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>During Workout:</strong><span>Hydrate, focus on form, rest as needed</span></div>
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Post-Workout (5-10 min):</strong><span>Static stretching, foam rolling, deep breathing</span></div>
                            <div class="detail-item" style="background: #f7fafd; border-radius: 10px; padding: 1rem; border-left: 3px solid #1565c0;"><strong>Hydration:</strong><span>Water before, during, and after session</span></div>
                        </div>
                    </div>
                    <div class="detail-section">
                        <h4 style="color: #2196f3; margin-bottom: 1rem;">Weekly Practice Breakdown</h4>
                        ${w.weeklyPlan.map((day, index) => `
                            <div class="exercise-detail" style="background: #f7fafd; border-radius: 14px; margin: 1rem 0; border-left: 4px solid #1565c0; padding: 1.5rem;">
                                <h5 style="color: #1565c0; margin-bottom: 1rem; font-size: 1.1rem;">${day.day} - ${day.type === 'workout' ? 'Calisthenics Practice' : 'Rest Day'}</h5>
                                <p><strong>Focus:</strong> ${day.description}</p>
                                ${day.type === 'workout' && day.exercises ? `
                                    <div class="exercise-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                                        <div class="exercise-stat" style="background: #fff; padding: 0.75rem; border-radius: 8px; text-align: center;"><strong style="color: #1565c0;">Total Time</strong><span style="color: #1565c0; display: block; font-size: 0.9rem;">${day.exercises.reduce((total, ex) => total + parseInt(ex.duration), 0)} min</span></div>
                                        <div class="exercise-stat" style="background: #fff; padding: 0.75rem; border-radius: 8px; text-align: center;"><strong style="color: #1565c0;">Exercises</strong><span style="color: #1565c0; display: block; font-size: 0.9rem;">${day.exercises.length}</span></div>
                                        <div class="exercise-stat" style="background: #fff; padding: 0.75rem; border-radius: 8px; text-align: center;"><strong style="color: #1565c0;">Calories</strong><span style="color: #1565c0; display: block; font-size: 0.9rem;">~${Math.round(w.calories / 5)} kcal</span></div>
                                    </div>
                                    <div style="margin-top: 1rem;">
                                        <strong>Exercise Sequence:</strong>
                                        <ol style="margin-top: 0.5rem; padding-left: 1.5rem;">
                                            ${day.exercises.map((exercise, exIndex) => `
                                                <li style="margin-bottom: 0.5rem;">
                                                    <strong style="color: #1565c0;">${exercise.name}</strong><br>
                                                    <span style="font-size: 0.9rem; color: #666;">
                                                        ${exercise.duration} min • ${exercise.sets} sets • ${exercise.reps} reps
                                                    </span>
                                                </li>
                                            `).join('')}
                                        </ol>
                                    </div>
                                ` : `
                                    <div class="exercise-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                                        <div class="exercise-stat" style="background: #fff; padding: 0.75rem; border-radius: 8px; text-align: center;"><strong style="color: #1565c0;">Rest Type</strong><span style="color: #1565c0; display: block; font-size: 0.9rem;">Active Recovery</span></div>
                                        <div class="exercise-stat" style="background: #fff; padding: 0.75rem; border-radius: 8px; text-align: center;"><strong style="color: #1565c0;">Duration</strong><span style="color: #1565c0; display: block; font-size: 0.9rem;">20-30 min</span></div>
                                        <div class="exercise-stat" style="background: #fff; padding: 0.75rem; border-radius: 8px; text-align: center;"><strong style="color: #1565c0;">Calories</strong><span style="color: #1565c0; display: block; font-size: 0.9rem;">~50 kcal</span></div>
                                    </div>
                                    <p style="margin-top: 1rem;"><strong>Rest Activities:</strong> Mobility, stretching, or rest</p>
                                `}
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="download-options" style="display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: center;">
                    <button class="btn btn-primary" onclick="downloadWorkout(${w.id})">Download Complete Plan</button>
                    <button class="btn btn-secondary" onclick="downloadAllWorkouts()">Download All</button>
                </div>
            `;
            document.getElementById('workoutModal').style.display = 'block';
        }
        function showDayDetails(dayName, workoutId) {
            const w = allWorkouts.find(x => x.id === workoutId);
            const day = w.weeklyPlan.find(d => d.day === dayName);
            if (!day) return;
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div class="calendar-container">
                    <div style="background:#e0e0e0;padding:2rem;border-radius:12px;border:1px solid #00b4ff;height:fit-content;">
                        <h3 style="color:#00b4ff;">${dayName} - ${day.type === 'workout' ? 'Training' : 'Rest'}</h3>
                        <div style="margin-bottom:1rem;"><strong>Type:</strong> ${day.type === 'workout' ? 'Training' : 'Rest'}</div>
                        <div style="margin-bottom:1rem;"><strong>Description:</strong> ${day.description}</div>
                        ${day.type === 'workout' && day.exercises ? `<div style='margin-bottom:1rem;'><strong>Total Exercises:</strong> ${day.exercises.length}</div>` : ''}
                    </div>
                    <div style="grid-column:2;">
                        ${day.type === 'workout' && day.exercises ? `
                            <h3 style='color:#00b4ff;'>Exercise Details</h3>
                            ${day.exercises.map((ex, idx) => `
                                <div class='exercise-item' style='margin-bottom:1rem;padding:1rem;background:#fff;border-radius:8px;border-left:3px solid #00b4ff;'>
                                    <h4 style='color:#ff3b3b;margin-bottom:0.5rem;'>${idx + 1}. ${ex.name}</h4>
                                    <p><strong>Sets:</strong> ${ex.sets}</p>
                                    <p><strong>Reps:</strong> ${ex.reps}</p>
                                    <p><strong>Duration:</strong> ${ex.duration} min</p>
                                    <p><strong>Description:</strong> ${ex.description}</p>
                                </div>
                            `).join('')}
                        ` : `
                            <div class='exercise-item' style='padding:2rem;text-align:center;background:#e0e0e0;border-radius:8px;'>
                                <h3 style='color:#ff3b3b;'>Rest Day</h3>
                                <p>${day.description}</p>
                                <p>Focus on recovery, stretching, and mobility.</p>
                            </div>
                        `}
                    </div>
                </div>
                <div class="download-options" style="display:flex;gap:1rem;margin-top:1.5rem;justify-content:center;">
                    <button class="btn btn-primary" onclick="openWorkoutModal(${workoutId})">Back to Weekly Plan</button>
                    <button class="btn btn-secondary" onclick="downloadWorkout(${w.id})">Download Plan</button>
                </div>
            `;
        }
        function closeModal() {
            document.getElementById('workoutModal').style.display = 'none';
        }
        // Download
        function downloadWorkout(workoutId) {
            const w = allWorkouts.find(x => x.id === workoutId);
            if (!w) return;
            const content = `Calisthenics Workout Plan\n====================\n\nTitle: ${w.title}\nSkill: ${w.skill}\nLevel: ${w.level}\nDuration: ${w.duration}\nEquipment: ${w.equipment}\nLocation: ${w.location}\nCalories: ${w.calories}\nRating: ${w.rating} stars\n\nDescription: ${w.description}\n\n7-DAY WEEKLY PLAN\n=================\n\n${w.weeklyPlan.map(day => `\n${day.day.toUpperCase()}\nType: ${day.type === 'workout' ? 'Training' : 'Rest'}\nDescription: ${day.description}\n${day.type === 'workout' && day.exercises ? `Exercises:\n${day.exercises.map(ex => `- ${ex.name}: ${ex.sets}x${ex.reps} (${ex.duration} min)`).join('\n')}` : ''}\n`).join('')}\nNotes:\n- Focus on skill mastery\n- Maintain good form\n- Listen to your body\n- Consult a professional if new to calisthenics`;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${w.title.replace(/\s+/g, '_')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        function downloadAllWorkouts() {
            const csvContent = [
                ['ID','Title','Skill','Level','Duration','Equipment','Location','Calories','Rating','Description'],
                ...filteredWorkouts.map(w => [w.id,w.title,w.skill,w.level,w.duration,w.equipment,w.location,w.calories,w.rating,w.description])
            ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'calisthenics_workouts.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('workoutModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
        // Initial batch (for instant display)
        generateWorkouts(0, 1000);
    </script>
</body>
</html> 